
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://joperpu.github.io/psp2425/ud4/">
      
      
        <link rel="prev" href="../pr3.2/">
      
      
        <link rel="next" href="../pr4.1/">
      
      
      <link rel="icon" href="../assets/images/logo.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.5">
    
    
      
        <title>Teoría UD4 - Programación de servicios y procesos</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unidad-4-generacion-de-servicios-en-red" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Programación de servicios y procesos" class="md-header__button md-logo" aria-label="Programación de servicios y procesos" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Programación de servicios y procesos
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Teoría UD4
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Programación de servicios y procesos" class="md-nav__button md-logo" aria-label="Programación de servicios y procesos" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    Programación de servicios y procesos
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Página principal
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD1 - Programación multiproceso
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            UD1 - Programación multiproceso
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teoría UD1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr1.1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 1.1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr1.2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 1.2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD2 - Programación multihilo
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            UD2 - Programación multihilo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teoría UD2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr2.1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 2.1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr2.2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 2.2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr2.3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 2.3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr2.4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 2.4
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD3 - Programación de mecanismos de comunicación en red con sockets
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            UD3 - Programación de mecanismos de comunicación en red con sockets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teoría UD3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr3.1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 3.1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr3.2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 3.2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD4 - Generación de servicios en red
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            UD4 - Generación de servicios en red
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Teoría UD4
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Teoría UD4
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#protocolos-estandar-de-comunicacion-en-red" class="md-nav__link">
    <span class="md-ellipsis">
      Protocolos estándar de comunicación en red
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#correo-jakarta-mail" class="md-nav__link">
    <span class="md-ellipsis">
      Correo: Jakarta Mail
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Correo: Jakarta Mail">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clases-principales-de-jakarta-mail" class="md-nav__link">
    <span class="md-ellipsis">
      Clases principales de Jakarta Mail
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Clases principales de Jakarta Mail">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jakartamailsession" class="md-nav__link">
    <span class="md-ellipsis">
      jakarta.mail.Session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jakartamailmessage" class="md-nav__link">
    <span class="md-ellipsis">
      jakarta.mail.Message
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jakartamailaddress" class="md-nav__link">
    <span class="md-ellipsis">
      jakarta.mail.Address
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jakartamailauthenticator" class="md-nav__link">
    <span class="md-ellipsis">
      jakarta.mail.Authenticator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jakartamailtransport" class="md-nav__link">
    <span class="md-ellipsis">
      jakarta.mail.Transport
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enviar-correos-en-jakarta-mail" class="md-nav__link">
    <span class="md-ellipsis">
      Enviar correos en Jakarta Mail
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enviar correos en Jakarta Mail">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enviar-mensajes-html" class="md-nav__link">
    <span class="md-ellipsis">
      Enviar mensajes HTML
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enviar-correos-electronicos-con-archivos-adjuntos" class="md-nav__link">
    <span class="md-ellipsis">
      Enviar correos electrónicos con archivos adjuntos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enviar-correos-electronicos-html-con-imagenes" class="md-nav__link">
    <span class="md-ellipsis">
      Enviar correos electrónicos HTML con imágenes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lectura-de-correos-electronicos-en-jakarta-mail" class="md-nav__link">
    <span class="md-ellipsis">
      Lectura de correos electrónicos en Jakarta Mail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-de-uso-de-jakarta-mail-para-el-envio-y-lectura-de-correos-electronicos" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo de uso de Jakarta Mail para el envío y lectura de correos electrónicos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ftp-apache-commons-net" class="md-nav__link">
    <span class="md-ellipsis">
      FTP: Apache Commons Net
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FTP: Apache Commons Net">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conexion-y-autenticacion" class="md-nav__link">
    <span class="md-ellipsis">
      Conexión y autenticación
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cambio-de-directorios" class="md-nav__link">
    <span class="md-ellipsis">
      Cambio de directorios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enviar-y-descargar-archivos-al-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      Enviar y descargar archivos al servidor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#otras-acciones" class="md-nav__link">
    <span class="md-ellipsis">
      Otras acciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Otras acciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mostrar-informacion-de-los-archivos-y-propiedades-de-los-archivos" class="md-nav__link">
    <span class="md-ellipsis">
      Mostrar información de los archivos y propiedades de los archivos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anadir-y-eleminar-directores-ftp-remotos" class="md-nav__link">
    <span class="md-ellipsis">
      Añadir y eleminar directores FTP remotos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crear-y-eliminar-archivos-ftp-remotos" class="md-nav__link">
    <span class="md-ellipsis">
      Crear y eliminar archivos FTP remotos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-de-cliente-de-ftp" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo de cliente de FTP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr4.1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 4.1
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD5 - Técnicas de programación seguras
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            UD5 - Técnicas de programación seguras
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teoría UD5
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr5.1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 5.1
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#protocolos-estandar-de-comunicacion-en-red" class="md-nav__link">
    <span class="md-ellipsis">
      Protocolos estándar de comunicación en red
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#correo-jakarta-mail" class="md-nav__link">
    <span class="md-ellipsis">
      Correo: Jakarta Mail
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Correo: Jakarta Mail">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clases-principales-de-jakarta-mail" class="md-nav__link">
    <span class="md-ellipsis">
      Clases principales de Jakarta Mail
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Clases principales de Jakarta Mail">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jakartamailsession" class="md-nav__link">
    <span class="md-ellipsis">
      jakarta.mail.Session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jakartamailmessage" class="md-nav__link">
    <span class="md-ellipsis">
      jakarta.mail.Message
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jakartamailaddress" class="md-nav__link">
    <span class="md-ellipsis">
      jakarta.mail.Address
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jakartamailauthenticator" class="md-nav__link">
    <span class="md-ellipsis">
      jakarta.mail.Authenticator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jakartamailtransport" class="md-nav__link">
    <span class="md-ellipsis">
      jakarta.mail.Transport
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enviar-correos-en-jakarta-mail" class="md-nav__link">
    <span class="md-ellipsis">
      Enviar correos en Jakarta Mail
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enviar correos en Jakarta Mail">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enviar-mensajes-html" class="md-nav__link">
    <span class="md-ellipsis">
      Enviar mensajes HTML
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enviar-correos-electronicos-con-archivos-adjuntos" class="md-nav__link">
    <span class="md-ellipsis">
      Enviar correos electrónicos con archivos adjuntos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enviar-correos-electronicos-html-con-imagenes" class="md-nav__link">
    <span class="md-ellipsis">
      Enviar correos electrónicos HTML con imágenes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lectura-de-correos-electronicos-en-jakarta-mail" class="md-nav__link">
    <span class="md-ellipsis">
      Lectura de correos electrónicos en Jakarta Mail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-de-uso-de-jakarta-mail-para-el-envio-y-lectura-de-correos-electronicos" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo de uso de Jakarta Mail para el envío y lectura de correos electrónicos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ftp-apache-commons-net" class="md-nav__link">
    <span class="md-ellipsis">
      FTP: Apache Commons Net
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FTP: Apache Commons Net">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conexion-y-autenticacion" class="md-nav__link">
    <span class="md-ellipsis">
      Conexión y autenticación
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cambio-de-directorios" class="md-nav__link">
    <span class="md-ellipsis">
      Cambio de directorios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enviar-y-descargar-archivos-al-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      Enviar y descargar archivos al servidor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#otras-acciones" class="md-nav__link">
    <span class="md-ellipsis">
      Otras acciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Otras acciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mostrar-informacion-de-los-archivos-y-propiedades-de-los-archivos" class="md-nav__link">
    <span class="md-ellipsis">
      Mostrar información de los archivos y propiedades de los archivos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anadir-y-eleminar-directores-ftp-remotos" class="md-nav__link">
    <span class="md-ellipsis">
      Añadir y eleminar directores FTP remotos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crear-y-eliminar-archivos-ftp-remotos" class="md-nav__link">
    <span class="md-ellipsis">
      Crear y eliminar archivos FTP remotos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-de-cliente-de-ftp" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo de cliente de FTP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="unidad-4-generacion-de-servicios-en-red">Unidad 4 - Generación de servicios en red</h1>
<p>Como hemos visto anteriormente, el modelo TCP/IP está compuesto por cuatro (o cinco) capas o niveles. La capa de aplicación define las aplicaciones de red y los servicios de Internet estándar que puede utilizar un usuario. Estos servicios utilizan la capa de transporte para enviar y recibir datos.</p>
<h2 id="protocolos-estandar-de-comunicacion-en-red">Protocolos estándar de comunicación en red</h2>
<p>Existen varios protocolos de capa de aplicación:</p>
<ul>
<li><strong>TELNET</strong> (Telecommunication Network): Emulación de terminal. Permite a un usuario acceder a una máquina remota y manejarla como si estuviese sentado delante de ella.</li>
<li><strong>SMTP</strong> (Simple Mail Transfer Protocol): Protocolo simple de transferencia de correo electrónico; es probablemente el servicio
más popular entre los usuarios de la red. Este estándar especifica el formato exacto de los mensajes que un cliente en una máquina debe enviar al servidor en otra. Administra la transmisión de correo electrónico a través de las redes informáticas.</li>
<li><strong>FTP</strong> (File Transfer Protocol): Protocolo de transferencia de ficheros. Es un servicio confiable orientado a conexión que se utiliza para transferir ficheros de una máquina a otra a través de Internet.</li>
<li><strong>HTTP</strong> (HyperText Transference Protocol): Protocolo de Transferencia de Hipertexto. Utilizado por los navegadores web para realizar peticiones a los servidores web y para recibir las respuestas de ellos.</li>
<li><strong>POP3</strong> (Post Office Protocol, version 3). Protocolo para entrega de correo electrónico a un agente de usuario de correo.</li>
<li><strong>DNS</strong>  (Domain Name System): Sistema de nombres de dominio. Es un sistema que usa servidores distribuidos a lo largo de la red para resolver el nombre de un host IP en una dirección IP.</li>
</ul>
<h2 id="correo-jakarta-mail">Correo: Jakarta Mail</h2>
<p><strong>Jakarta Mail</strong> (anteriormente conocido como JavaMail) es una API para enviar y recibir correos electrónicos a través de SMTP, POP3 e IMAP, y es la opción más popular que también admite la autenticación TLS y SSL. Es independiente de la plataforma, del protocolo y se encuentra integrado en la plataforma Jakarta EE.</p>
<p>La API de correo de Jakarta tiene una amplia gama de clases e interfaces que se pueden usar para enviar, leer y realizar otras acciones con mensajes de correo electrónico, al igual que en una aplicación de correo estándar. </p>
<p>Aunque hay varios paquetes en el proyecto de Jakarta Mail, los más utilizados son <strong>jakarta.mail</strong> y <strong>jakarta.mail.internet</strong>. El paquete jakarta.mail proporciona clases que modelan un sistema de correo, y el paquete jakarta.mail.internet proporciona clases que se centran en los sistemas de correo de Internet.</p>
<p><a href="https://jakarta.ee/specifications/mail/2.1/jakarta-mail-spec-2.1">https://jakarta.ee/specifications/mail/2.1/jakarta-mail-spec-2.1</a></p>
<h3 id="clases-principales-de-jakarta-mail">Clases principales de Jakarta Mail</h3>
<h4 id="jakartamailsession">jakarta.mail.Session</h4>
<p>La clase Session, que no tiene subclases, es la clase de nivel superior de la API de correo de Jakarta. Es un objeto multiproceso que actúa como fábrica
de conexiones para la API de correo de Jakarta. Además de recopilar las propiedades y los valores predeterminados de la API de correo, es responsable de los ajustes de configuración y la autenticación. </p>
<p>Para obtener el objeto Session, puede llamar a cualquiera de los dos métodos siguientes:</p>
<ul>
<li><strong>getDefaultInstance()</strong>, que devuelve la sesión predeterminada.</li>
<li><strong>getInstance()</strong>, que devuelve una nueva sesión.</li>
</ul>
<h4 id="jakartamailmessage">jakarta.mail.Message</h4>
<p>La clase Message es una clase abstracta que modela un mensaje de correo electrónico. Sus subclases soportan las implementaciones reales. Por lo general, su subclase MimeMessage (jakarta.mail.internet.MimeMessage) se utiliza para preparar los detalles del mensaje de correo electrónico que se enviará.</p>
<table>
<thead>
<tr>
<th>Método</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td>setFrom(Address addresses)</td>
<td>Se utiliza para establecer el campo de encabezado "De"</td>
</tr>
<tr>
<td>setRecipients(Message.RecipientType type, String addresses)</td>
<td>Se utiliza para establecer el tipo de destinatario indicado en las direcciones proporcionadas</td>
</tr>
<tr>
<td>setSubject(String subject)</td>
<td>Se utiliza para establecer el campo de encabezado del asunto del correo electrónico</td>
</tr>
<tr>
<td>setText(String text)</td>
<td>Se utiliza para establecer la cadena proporcionada como contenido del correo electrónico, utilizando el tipo MIME de "texto / sin formato"</td>
</tr>
<tr>
<td>setContent(Object message, String contentType)</td>
<td>Se utiliza para establecer el contenido del correo electrónico y se puede utilizar con un tipo MIME que no sea "text/html"</td>
</tr>
</tbody>
</table>
<h4 id="jakartamailaddress">jakarta.mail.Address</h4>
<p>La clase Address es una clase abstracta que modela las direcciones (direcciones To y From) en un mensaje de correo electrónico; Sus subclases soportan las implementaciones reales. Por lo general, su subclase InternetAddress , que denota una dirección de correo electrónico de Internet, es la que más se usa.</p>
<h4 id="jakartamailauthenticator">jakarta.mail.Authenticator</h4>
<p>La clase Authenticator es una clase abstracta que se utiliza para obtener autenticación para acceder a los recursos del servidor de correo, a menudo requiriendo la información del usuario. Por lo general, su subclase PasswordAuthentication es la que más se usa.</p>
<h4 id="jakartamailtransport">jakarta.mail.Transport</h4>
<p>La clase Transport es una clase abstracta que utiliza el protocolo SMTP para enviar y transportar mensajes de correo electrónico.</p>
<h3 id="enviar-correos-en-jakarta-mail">Enviar correos en Jakarta Mail</h3>
<p>Estos son los pasos para enviar un email utilizando la API de correo de Jakarta:</p>
<ol>
<li>Configurar detalles del servidor SMTP utilizando un objeto Java Properties. Se pueden obtener detalles del servidor SMTP del proveedor de servicios de correo electrónico.</li>
<li>Crear un objeto Session llamando al método getInstance(). Luego, pasar el nombre de usuario y contraseña de la cuenta a PasswordAuthentication. Al crear el objeto de sesión, siempre s debe registrar el Authenticator con la sesión.</li>
<li>Una vez creado el objeto Session, el siguiente paso es crear el email que se enviará. Para ello, se comienza pasando el objeto de sesión creado al constructor de clase MimeMessage.</li>
<li>A continuación, después de crear el objeto de mensaje, establecer los campos De, Para y Asunto del email.</li>
<li>Utilizar el método setText() para establecer el contenido del mensaje de correo electrónico.</li>
<li>Utilizar el objeto Transport para enviar el correo.</li>
<li>Agregar excepciones para recuperar los detalles de cualquier posible error al enviar el mensaje.</li>
</ol>
<h4 id="enviar-mensajes-html">Enviar mensajes HTML</h4>
<p>En términos de usabilidad, el contenido HTML es muy superior al texto sin formato. Por lo tanto, la mayoría de las veces enviamos emails en formato HTML. Java Mail API admite el envío de correos electrónicos en formato HTML. Para enviar un correo electrónico con contenido HTML, debemos reemplazar el método message.setText() con el siguiente código.</p>
<div class="language-Java highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">message</span><span class="p">.</span><span class="na">setContent</span><span class="p">(</span><span class="s">&quot;Just discovered that Jakarta Mail is fun and easy to use&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;text/html&quot;</span><span class="p">);</span>
</span></code></pre></div>
<p>Usaremos el método setContent() para establecer el contenido y especificar "text/html" en el segundo argumento, lo que indica que el mensaje tiene formato HTML.</p>
<h4 id="enviar-correos-electronicos-con-archivos-adjuntos">Enviar correos electrónicos con archivos adjuntos</h4>
<p>Además de los pasos mencionados anteriormente, estos son los diferentes pasos involucrados en el uso de la API de
correo de Jakarta para enviar archivos adjuntos de correo electrónico:</p>
<ol>
<li>Creamos una instancia del objeto MimeMultipart que se utilizará como envoltorio o wrapper para las distintas
partes MimeBodyPart. Un MultiPart actúa como un contenedor que guarda varias partes individuales, y viene con métodos para obtener y configurar sus diversas subpartes.</li>
<li>Luego, establecemos la primera parte del objeto Multipart pasándole el mensaje real.</li>
<li>A continuación, establecemos la segunda y las siguientes parte del objeto Multipart agregando los datos adjuntos.</li>
<li>Incluimos el objeto Multipart en el mensaje a enviar.</li>
<li>Enviamos el mensaje.</li>
</ol>
<p><center><img alt="Jakarta Mail" src="../assets/images/ud4/img01.png" width="300" /></center></p>
<h4 id="enviar-correos-electronicos-html-con-imagenes">Enviar correos electrónicos HTML con imágenes</h4>
<p>Para agregar una imagen a su correo electrónico HTML en Jakarta Mail, se pueden elegir cualquiera de las tres opciones comunes:</p>
<ul>
<li>Insertando imágenes CID. Para ello debemos crear un mensaje MIME multipart/related.</li>
<li>Insertando imágenes en línea o codificación Base64. Para la inserción en línea o la codificación Base64, se debe incluir los datos de imagen codificados en el cuerpo HTML de forma similar a esta:</li>
</ul>
<div class="language-html highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;data:image/jpeg;base64,base64-encoded-data-here&quot;</span> <span class="p">/&gt;</span>
</span></code></pre></div>
<ul>
<li>Enlazando imágenes. Tenemos imágenes vinculadas que son esencialmente imágenes alojadas en algún servidor externo al que luego crea un enlace. Podemos hacerlo usando la etiqueta img en el cuerpo HTML de la siguiente manera.</li>
</ul>
<div class="language-html highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/wp-content/uploads/2018/11/blog/-illustration-email-embedding-images.png&quot;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&quot;img&quot;</span> <span class="p">/&gt;</span>
</span></code></pre></div>
<h3 id="lectura-de-correos-electronicos-en-jakarta-mail">Lectura de correos electrónicos en Jakarta Mail</h3>
<p>El API de correo de Jakarta también proporciona soporte para leer correos electrónicos. Para leer correos electrónicos, debe usar la clase javax.mail.Store. La clase Store es una clase abstracta que modela un almacén de mensajes y su protocolo de acceso, y es una subclase de las clases POP3Store e IMAPStore. Leer correos electrónicos almacenados en un servidor IMAP consta de los siguientes pasos:</p>
<ul>
<li>Creación de la sesión IMAP (Session), indicando el protocolo, el nombre del host, el puerto, si usa SSL y el servidor de autenticación asociado.</li>
<li>Configuración y obtención del almacén (Store).</li>
<li>Obtención de la conexión a través del almacén, indicando el identificador de la cuenta y la contraseña.</li>
<li>Obtención de la carpeta a leer.</li>
<li>Apertura de la carpeta.</li>
<li>Obtención de los mensajes.</li>
<li>Procesamiento de mensajes.</li>
<li>Cierre de la carpeta y del almacén.</li>
<li>Cierre de la sesión y de la conexión.</li>
</ul>
<h3 id="ejemplo-de-uso-de-jakarta-mail-para-el-envio-y-lectura-de-correos-electronicos">Ejemplo de uso de Jakarta Mail para el envío y lectura de correos electrónicos</h3>
<p>EnviarCorreo.java</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.Message</span><span class="p">;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.MessagingException</span><span class="p">;</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.Multipart</span><span class="p">;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.PasswordAuthentication</span><span class="p">;</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.Session</span><span class="p">;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.Transport</span><span class="p">;</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.internet.AddressException</span><span class="p">;</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.internet.InternetAddress</span><span class="p">;</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.internet.MimeBodyPart</span><span class="p">;</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.internet.MimeMessage</span><span class="p">;</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.internet.MimeMultipart</span><span class="p">;</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.IOException</span><span class="p">;</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.InputStream</span><span class="p">;</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Properties</span><span class="p">;</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">EnviarCorreo</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">AddressException</span><span class="p">,</span><span class="w"> </span><span class="n">MessagingException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">Properties</span><span class="w"> </span><span class="n">prop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Properties</span><span class="p">();</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.smtp.username&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;username@gmail.com&quot;</span><span class="p">);</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.smtp.password&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;contraseña generada en la configuración de gmail&quot;</span><span class="p">);</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.smtp.host&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;smtp.gmail.com&quot;</span><span class="p">);</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.smtp.port&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;587&quot;</span><span class="p">);</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.smtp.auth&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">);</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.smtp.starttls.enable&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// TLS</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.debug&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">);</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="c1">// Create the Session with the user credentials</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a><span class="w">        </span><span class="n">Session</span><span class="w"> </span><span class="n">mailSession</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Session</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">jakarta</span><span class="p">.</span><span class="na">mail</span><span class="p">.</span><span class="na">Authenticator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a><span class="w">            </span><span class="nd">@Override</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="w">            </span><span class="kd">protected</span><span class="w"> </span><span class="n">PasswordAuthentication</span><span class="w"> </span><span class="nf">getPasswordAuthentication</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a><span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PasswordAuthentication</span><span class="p">(</span><span class="n">prop</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">&quot;mail.smtp.username&quot;</span><span class="p">),</span>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="w">                        </span><span class="n">prop</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">&quot;mail.smtp.password&quot;</span><span class="p">));</span>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a><span class="w">        </span><span class="p">});</span>
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a><span class="w">        </span><span class="c1">// Prepare the MimeMessage</span>
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a><span class="w">        </span><span class="n">Message</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MimeMessage</span><span class="p">(</span><span class="n">mailSession</span><span class="p">);</span>
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a><span class="c1">// Set From and subject email properties</span>
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a><span class="w">        </span><span class="n">message</span><span class="p">.</span><span class="na">setFrom</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">InternetAddress</span><span class="p">(</span><span class="s">&quot;username@gmail.com&quot;</span><span class="p">));</span>
</span><span id="__span-3-41"><a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a><span class="w">        </span><span class="n">message</span><span class="p">.</span><span class="na">setSubject</span><span class="p">(</span><span class="s">&quot;Sending Mail with pure Jakarta Mail API &quot;</span><span class="p">);</span>
</span><span id="__span-3-42"><a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a>
</span><span id="__span-3-43"><a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a><span class="c1">// Set to, cc &amp; bcc recipients        </span>
</span><span id="__span-3-44"><a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a><span class="w">        </span><span class="n">InternetAddress</span><span class="o">[]</span><span class="w"> </span><span class="n">toEmailAddresses</span>
</span><span id="__span-3-45"><a id="__codelineno-3-45" name="__codelineno-3-45" href="#__codelineno-3-45"></a><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="n">InternetAddress</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;username@gmail.com&quot;</span><span class="p">);</span>
</span><span id="__span-3-46"><a id="__codelineno-3-46" name="__codelineno-3-46" href="#__codelineno-3-46"></a><span class="w">        </span><span class="n">InternetAddress</span><span class="o">[]</span><span class="w"> </span><span class="n">ccEmailAddresses</span>
</span><span id="__span-3-47"><a id="__codelineno-3-47" name="__codelineno-3-47" href="#__codelineno-3-47"></a><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="n">InternetAddress</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;correo1@gmail.com&quot;</span><span class="p">);</span>
</span><span id="__span-3-48"><a id="__codelineno-3-48" name="__codelineno-3-48" href="#__codelineno-3-48"></a><span class="w">        </span><span class="n">InternetAddress</span><span class="o">[]</span><span class="w"> </span><span class="n">bccEmailAddresses</span>
</span><span id="__span-3-49"><a id="__codelineno-3-49" name="__codelineno-3-49" href="#__codelineno-3-49"></a><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="n">InternetAddress</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;correo2@gmail.com&quot;</span><span class="p">);</span>
</span><span id="__span-3-50"><a id="__codelineno-3-50" name="__codelineno-3-50" href="#__codelineno-3-50"></a>
</span><span id="__span-3-51"><a id="__codelineno-3-51" name="__codelineno-3-51" href="#__codelineno-3-51"></a><span class="w">        </span><span class="n">message</span><span class="p">.</span><span class="na">setRecipients</span><span class="p">(</span><span class="n">Message</span><span class="p">.</span><span class="na">RecipientType</span><span class="p">.</span><span class="na">TO</span><span class="p">,</span><span class="w"> </span><span class="n">toEmailAddresses</span><span class="p">);</span>
</span><span id="__span-3-52"><a id="__codelineno-3-52" name="__codelineno-3-52" href="#__codelineno-3-52"></a><span class="w">        </span><span class="n">message</span><span class="p">.</span><span class="na">setRecipients</span><span class="p">(</span><span class="n">Message</span><span class="p">.</span><span class="na">RecipientType</span><span class="p">.</span><span class="na">CC</span><span class="p">,</span><span class="w"> </span><span class="n">ccEmailAddresses</span><span class="p">);</span>
</span><span id="__span-3-53"><a id="__codelineno-3-53" name="__codelineno-3-53" href="#__codelineno-3-53"></a><span class="w">        </span><span class="n">message</span><span class="p">.</span><span class="na">setRecipients</span><span class="p">(</span><span class="n">Message</span><span class="p">.</span><span class="na">RecipientType</span><span class="p">.</span><span class="na">BCC</span><span class="p">,</span><span class="w"> </span><span class="n">bccEmailAddresses</span><span class="p">);</span>
</span><span id="__span-3-54"><a id="__codelineno-3-54" name="__codelineno-3-54" href="#__codelineno-3-54"></a>
</span><span id="__span-3-55"><a id="__codelineno-3-55" name="__codelineno-3-55" href="#__codelineno-3-55"></a><span class="c1">//Mail body with plain Text</span>
</span><span id="__span-3-56"><a id="__codelineno-3-56" name="__codelineno-3-56" href="#__codelineno-3-56"></a><span class="w"> </span><span class="cm">/* message.setText(&quot;Hello User,&quot;</span>
</span><span id="__span-3-57"><a id="__codelineno-3-57" name="__codelineno-3-57" href="#__codelineno-3-57"></a><span class="cm">                + &quot;\n\n If you read this, means mail sent with Java Mail API is successful&quot;);*/</span>
</span><span id="__span-3-58"><a id="__codelineno-3-58" name="__codelineno-3-58" href="#__codelineno-3-58"></a>
</span><span id="__span-3-59"><a id="__codelineno-3-59" name="__codelineno-3-59" href="#__codelineno-3-59"></a><span class="c1">//Mail body with HTML</span>
</span><span id="__span-3-60"><a id="__codelineno-3-60" name="__codelineno-3-60" href="#__codelineno-3-60"></a><span class="w">        </span><span class="cm">/* message.setContent(&quot;Just discovered that Jakarta Mail is fun and easy to use&quot;,</span>
</span><span id="__span-3-61"><a id="__codelineno-3-61" name="__codelineno-3-61" href="#__codelineno-3-61"></a><span class="cm">                &quot;text/html&quot;);*/</span>
</span><span id="__span-3-62"><a id="__codelineno-3-62" name="__codelineno-3-62" href="#__codelineno-3-62"></a>
</span><span id="__span-3-63"><a id="__codelineno-3-63" name="__codelineno-3-63" href="#__codelineno-3-63"></a><span class="c1">//Mail with attached files</span>
</span><span id="__span-3-64"><a id="__codelineno-3-64" name="__codelineno-3-64" href="#__codelineno-3-64"></a><span class="cm">/*</span>
</span><span id="__span-3-65"><a id="__codelineno-3-65" name="__codelineno-3-65" href="#__codelineno-3-65"></a><span class="cm">    // create an instance of multipart object</span>
</span><span id="__span-3-66"><a id="__codelineno-3-66" name="__codelineno-3-66" href="#__codelineno-3-66"></a><span class="cm">        Multipart multipart = new MimeMultipart();</span>
</span><span id="__span-3-67"><a id="__codelineno-3-67" name="__codelineno-3-67" href="#__codelineno-3-67"></a>
</span><span id="__span-3-68"><a id="__codelineno-3-68" name="__codelineno-3-68" href="#__codelineno-3-68"></a><span class="cm">    // create the 1st message body part</span>
</span><span id="__span-3-69"><a id="__codelineno-3-69" name="__codelineno-3-69" href="#__codelineno-3-69"></a><span class="cm">        MimeBodyPart messageBodyPart = new MimeBodyPart();</span>
</span><span id="__span-3-70"><a id="__codelineno-3-70" name="__codelineno-3-70" href="#__codelineno-3-70"></a><span class="cm">    // Add a plain message (HTML can also be added with setContent)</span>
</span><span id="__span-3-71"><a id="__codelineno-3-71" name="__codelineno-3-71" href="#__codelineno-3-71"></a><span class="cm">        messageBodyPart.setText(&quot;Please find the attachment sent using Jakarta Mail&quot;);</span>
</span><span id="__span-3-72"><a id="__codelineno-3-72" name="__codelineno-3-72" href="#__codelineno-3-72"></a><span class="cm">    // Add the BodyPart to the Multipart object</span>
</span><span id="__span-3-73"><a id="__codelineno-3-73" name="__codelineno-3-73" href="#__codelineno-3-73"></a><span class="cm">        multipart.addBodyPart(messageBodyPart);</span>
</span><span id="__span-3-74"><a id="__codelineno-3-74" name="__codelineno-3-74" href="#__codelineno-3-74"></a>
</span><span id="__span-3-75"><a id="__codelineno-3-75" name="__codelineno-3-75" href="#__codelineno-3-75"></a><span class="cm">    // 2nd. bodyPart with an attached file</span>
</span><span id="__span-3-76"><a id="__codelineno-3-76" name="__codelineno-3-76" href="#__codelineno-3-76"></a><span class="cm">        messageBodyPart = new MimeBodyPart();</span>
</span><span id="__span-3-77"><a id="__codelineno-3-77" name="__codelineno-3-77" href="#__codelineno-3-77"></a><span class="cm">        String filename = &quot;File.pdf&quot;;</span>
</span><span id="__span-3-78"><a id="__codelineno-3-78" name="__codelineno-3-78" href="#__codelineno-3-78"></a><span class="cm">        messageBodyPart.attachFile(filename);</span>
</span><span id="__span-3-79"><a id="__codelineno-3-79" name="__codelineno-3-79" href="#__codelineno-3-79"></a><span class="cm">    // Add the BodyPart to the Multipart object</span>
</span><span id="__span-3-80"><a id="__codelineno-3-80" name="__codelineno-3-80" href="#__codelineno-3-80"></a><span class="cm">        multipart.addBodyPart(messageBodyPart);</span>
</span><span id="__span-3-81"><a id="__codelineno-3-81" name="__codelineno-3-81" href="#__codelineno-3-81"></a>
</span><span id="__span-3-82"><a id="__codelineno-3-82" name="__codelineno-3-82" href="#__codelineno-3-82"></a><span class="cm">    // Add the multipart object to the message</span>
</span><span id="__span-3-83"><a id="__codelineno-3-83" name="__codelineno-3-83" href="#__codelineno-3-83"></a><span class="cm">        message.setContent(multipart);</span>
</span><span id="__span-3-84"><a id="__codelineno-3-84" name="__codelineno-3-84" href="#__codelineno-3-84"></a><span class="cm">         */</span>
</span><span id="__span-3-85"><a id="__codelineno-3-85" name="__codelineno-3-85" href="#__codelineno-3-85"></a>
</span><span id="__span-3-86"><a id="__codelineno-3-86" name="__codelineno-3-86" href="#__codelineno-3-86"></a><span class="c1">//Mail with images</span>
</span><span id="__span-3-87"><a id="__codelineno-3-87" name="__codelineno-3-87" href="#__codelineno-3-87"></a>
</span><span id="__span-3-88"><a id="__codelineno-3-88" name="__codelineno-3-88" href="#__codelineno-3-88"></a><span class="c1">//An HTML code with a link referenced image</span>
</span><span id="__span-3-89"><a id="__codelineno-3-89" name="__codelineno-3-89" href="#__codelineno-3-89"></a><span class="w">        </span><span class="n">Multipart</span><span class="w"> </span><span class="n">multipart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MimeMultipart</span><span class="p">(</span><span class="s">&quot;related&quot;</span><span class="p">);</span>
</span><span id="__span-3-90"><a id="__codelineno-3-90" name="__codelineno-3-90" href="#__codelineno-3-90"></a><span class="w">        </span><span class="n">MimeBodyPart</span><span class="w"> </span><span class="n">htmlPart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MimeBodyPart</span><span class="p">();</span>
</span><span id="__span-3-91"><a id="__codelineno-3-91" name="__codelineno-3-91" href="#__codelineno-3-91"></a><span class="c1">//add reference to your image to the HTML body &lt;img src=&quot;cid:some-image-cid&quot; alt=&quot;img&quot; /&gt;</span>
</span><span id="__span-3-92"><a id="__codelineno-3-92" name="__codelineno-3-92" href="#__codelineno-3-92"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">messageBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&lt;p&gt;&lt;/p&gt;&lt;img src=\&quot;https://projects.eclipse.org/sites/default/files/36201228_22.png\&quot; alt=\&quot;img\&quot; /&gt;&lt;/p&gt;&quot;</span><span class="p">;</span>
</span><span id="__span-3-93"><a id="__codelineno-3-93" name="__codelineno-3-93" href="#__codelineno-3-93"></a><span class="w">        </span><span class="n">htmlPart</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">messageBody</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;utf-8&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;html&quot;</span><span class="p">);</span>
</span><span id="__span-3-94"><a id="__codelineno-3-94" name="__codelineno-3-94" href="#__codelineno-3-94"></a><span class="c1">// Add the BodyPart to the Multipart object</span>
</span><span id="__span-3-95"><a id="__codelineno-3-95" name="__codelineno-3-95" href="#__codelineno-3-95"></a><span class="w">        </span><span class="n">multipart</span><span class="p">.</span><span class="na">addBodyPart</span><span class="p">(</span><span class="n">htmlPart</span><span class="p">);</span>
</span><span id="__span-3-96"><a id="__codelineno-3-96" name="__codelineno-3-96" href="#__codelineno-3-96"></a><span class="c1">// Add the multipart object to the message</span>
</span><span id="__span-3-97"><a id="__codelineno-3-97" name="__codelineno-3-97" href="#__codelineno-3-97"></a><span class="w">        </span><span class="n">message</span><span class="p">.</span><span class="na">setContent</span><span class="p">(</span><span class="n">multipart</span><span class="p">);</span>
</span><span id="__span-3-98"><a id="__codelineno-3-98" name="__codelineno-3-98" href="#__codelineno-3-98"></a>
</span><span id="__span-3-99"><a id="__codelineno-3-99" name="__codelineno-3-99" href="#__codelineno-3-99"></a>
</span><span id="__span-3-100"><a id="__codelineno-3-100" name="__codelineno-3-100" href="#__codelineno-3-100"></a><span class="c1">// Send the configured message in the session</span>
</span><span id="__span-3-101"><a id="__codelineno-3-101" name="__codelineno-3-101" href="#__codelineno-3-101"></a><span class="w">        </span><span class="n">Transport</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
</span><span id="__span-3-102"><a id="__codelineno-3-102" name="__codelineno-3-102" href="#__codelineno-3-102"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-103"><a id="__codelineno-3-103" name="__codelineno-3-103" href="#__codelineno-3-103"></a><span class="p">}</span>
</span></code></pre></div>
<p>LeerCorreo.java</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.Folder</span><span class="p">;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.Message</span><span class="p">;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.MessagingException</span><span class="p">;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.NoSuchProviderException</span><span class="p">;</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.PasswordAuthentication</span><span class="p">;</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.Session</span><span class="p">;</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.mail.Store</span><span class="p">;</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.IOException</span><span class="p">;</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Properties</span><span class="p">;</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Leercorreo</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">NoSuchProviderException</span><span class="p">,</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">            </span><span class="n">MessagingException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">Properties</span><span class="w"> </span><span class="n">prop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Properties</span><span class="p">();</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.imap.username&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;username@gmail.com&quot;</span><span class="p">);</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.imap.password&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;contraseña generada en la configuración de gmail&quot;</span><span class="p">);</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.imap.host&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;imap.gmail.com&quot;</span><span class="p">);</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.imap.port&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;993&quot;</span><span class="p">);</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.imap.ssl.enable&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">);</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;mail.imap.auth&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">);</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="w">       </span><span class="c1">// prop.put(&quot;mail.debug&quot;, &quot;true&quot;);</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="w">        </span><span class="c1">// Create the Session with the user credentials</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="w">        </span><span class="n">Session</span><span class="w"> </span><span class="n">mailSession</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Session</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">jakarta</span><span class="p">.</span><span class="na">mail</span><span class="p">.</span><span class="na">Authenticator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="w">            </span><span class="nd">@Override</span>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="w">            </span><span class="kd">protected</span><span class="w"> </span><span class="n">PasswordAuthentication</span><span class="w"> </span><span class="nf">getPasswordAuthentication</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PasswordAuthentication</span><span class="p">(</span><span class="n">prop</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">&quot;mail.imap.username&quot;</span><span class="p">),</span>
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="w">                        </span><span class="n">prop</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">&quot;mail.imap.password&quot;</span><span class="p">));</span>
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a><span class="w">        </span><span class="p">});</span>
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>
</span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a><span class="w">        </span><span class="c1">// Get the Store object and connect to the current host using the specified username and password.</span>
</span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a><span class="w">        </span><span class="n">Store</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mailSession</span><span class="p">.</span><span class="na">getStore</span><span class="p">(</span><span class="s">&quot;imap&quot;</span><span class="p">);</span>
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a><span class="w">        </span><span class="n">store</span><span class="p">.</span><span class="na">connect</span><span class="p">(</span><span class="n">prop</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">&quot;mail.imap.host&quot;</span><span class="p">),</span>
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a><span class="w">                </span><span class="n">prop</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">&quot;mail.imap.username&quot;</span><span class="p">),</span>
</span><span id="__span-4-38"><a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a><span class="w">                </span><span class="n">prop</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">&quot;mail.imap.password&quot;</span><span class="p">));</span>
</span><span id="__span-4-39"><a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a>
</span><span id="__span-4-40"><a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a><span class="w">        </span><span class="c1">// Get the folder and open it</span>
</span><span id="__span-4-41"><a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a><span class="w">        </span><span class="n">Folder</span><span class="w"> </span><span class="n">folder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">store</span><span class="p">.</span><span class="na">getFolder</span><span class="p">(</span><span class="s">&quot;INBOX&quot;</span><span class="p">);</span>
</span><span id="__span-4-42"><a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a><span class="w">        </span><span class="n">folder</span><span class="p">.</span><span class="na">open</span><span class="p">(</span><span class="n">Folder</span><span class="p">.</span><span class="na">READ_ONLY</span><span class="p">);</span>
</span><span id="__span-4-43"><a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a>
</span><span id="__span-4-44"><a id="__codelineno-4-44" name="__codelineno-4-44" href="#__codelineno-4-44"></a><span class="w">        </span><span class="c1">// Get the messages</span>
</span><span id="__span-4-45"><a id="__codelineno-4-45" name="__codelineno-4-45" href="#__codelineno-4-45"></a><span class="w">        </span><span class="n">Message</span><span class="o">[]</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">folder</span><span class="p">.</span><span class="na">getMessages</span><span class="p">();</span>
</span><span id="__span-4-46"><a id="__codelineno-4-46" name="__codelineno-4-46" href="#__codelineno-4-46"></a>
</span><span id="__span-4-47"><a id="__codelineno-4-47" name="__codelineno-4-47" href="#__codelineno-4-47"></a><span class="w">        </span><span class="c1">// Process the messages</span>
</span><span id="__span-4-48"><a id="__codelineno-4-48" name="__codelineno-4-48" href="#__codelineno-4-48"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">messages</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-49"><a id="__codelineno-4-49" name="__codelineno-4-49" href="#__codelineno-4-49"></a><span class="w">            </span><span class="n">Message</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">messages</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span>
</span><span id="__span-4-50"><a id="__codelineno-4-50" name="__codelineno-4-50" href="#__codelineno-4-50"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Message &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span>
</span><span id="__span-4-51"><a id="__codelineno-4-51" name="__codelineno-4-51" href="#__codelineno-4-51"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;From: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">message</span><span class="p">.</span><span class="na">getFrom</span><span class="p">()</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">);</span>
</span><span id="__span-4-52"><a id="__codelineno-4-52" name="__codelineno-4-52" href="#__codelineno-4-52"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Subject: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">message</span><span class="p">.</span><span class="na">getSubject</span><span class="p">());</span>
</span><span id="__span-4-53"><a id="__codelineno-4-53" name="__codelineno-4-53" href="#__codelineno-4-53"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Sent Date: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">message</span><span class="p">.</span><span class="na">getSentDate</span><span class="p">());</span>
</span><span id="__span-4-54"><a id="__codelineno-4-54" name="__codelineno-4-54" href="#__codelineno-4-54"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Text: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">message</span><span class="p">.</span><span class="na">getContent</span><span class="p">().</span><span class="na">toString</span><span class="p">());</span>
</span><span id="__span-4-55"><a id="__codelineno-4-55" name="__codelineno-4-55" href="#__codelineno-4-55"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-4-56"><a id="__codelineno-4-56" name="__codelineno-4-56" href="#__codelineno-4-56"></a>
</span><span id="__span-4-57"><a id="__codelineno-4-57" name="__codelineno-4-57" href="#__codelineno-4-57"></a><span class="w">        </span><span class="c1">// Close the folder and store objects</span>
</span><span id="__span-4-58"><a id="__codelineno-4-58" name="__codelineno-4-58" href="#__codelineno-4-58"></a><span class="w">        </span><span class="n">folder</span><span class="p">.</span><span class="na">close</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</span><span id="__span-4-59"><a id="__codelineno-4-59" name="__codelineno-4-59" href="#__codelineno-4-59"></a><span class="w">        </span><span class="n">store</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</span><span id="__span-4-60"><a id="__codelineno-4-60" name="__codelineno-4-60" href="#__codelineno-4-60"></a>
</span><span id="__span-4-61"><a id="__codelineno-4-61" name="__codelineno-4-61" href="#__codelineno-4-61"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-4-62"><a id="__codelineno-4-62" name="__codelineno-4-62" href="#__codelineno-4-62"></a>
</span><span id="__span-4-63"><a id="__codelineno-4-63" name="__codelineno-4-63" href="#__codelineno-4-63"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="ftp-apache-commons-net">FTP: Apache Commons Net</h2>
<p>La librería Apache Commons Net implementa el lado de muchos protocolos básicos de Internet.</p>
<p>El propósito de la biblioteca es proporcionar acceso a protocolos fundamentales, no abstracciones de alto nivel. Por lo tanto, algunos de los diseños violan los principios de diseño orientado a objetos.</p>
<p>Nuestra filosofía es hacer que la funcionalidad global de un protocolo sea accesible (por ejemplo, TFTP envía archivo y recibe archivo) cuando sea posible,
pero también proporcionar acceso a los protocolos fundamentales cuando corresponda para que el programador pueda construir sus propias implementaciones personalizadas.</p>
<p>En Java, de forma nativa, es posible realizar transferencias de archivos utilizando este protocolo, pero es extremadamente difícil hacerlo. La librería Apache Commons Net proporciona clases y utilidades para realizar cualquier operación sobre un servidor FTP o FTPS desde un cliente Java.</p>
<p>Esta librería se puede descargar desde la página web de apache.org a través del siguiente enlace: </p>
<p><a href="https://commons.apache.org/proper/commons-net/">https://commons.apache.org/proper/commons-net/</a></p>
<h3 id="conexion-y-autenticacion">Conexión y autenticación</h3>
<p>Los pasos para conectarnos a un servidor FTP utilizando la librería Apache Commons Net serían:</p>
<ol>
<li>Crear una instancia de la clase FTPClient y llamar al método connect, pasando como parámetros el servidor y el puerto al que
queremos conectarnos.</li>
<li>A continuación, tendremos que comprobar que la conexión se ha establecido correctamente, para ello debemos llamar al método getReplyCode y comprobar que el valor devuelto por este método es positivo.</li>
<li>Por último, tendremos que llamar al método login, pasando como parámetros el usuario y la contraseña con la que queremos iniciar sesión.</li>
</ol>
<h3 id="cambio-de-directorios">Cambio de directorios</h3>
<p>Para mostrar el directorio de trabajo actual, podemos utilizar el método printWorkingDirectory y para mostrar el contenido del directorio de trabajo
actual, podemos utilizar el método listFiles o el método listNames.</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">// Obtener el directorio de trabajo remoto actual</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">String</span><span class="w"> </span><span class="n">workingDirectory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftp</span><span class="p">.</span><span class="na">printWorkingDirectory</span><span class="p">();</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1">// Mostrar el contenido del directorio de trabajo remoto actual</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ftp</span><span class="p">.</span><span class="na">listNames</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="p">}</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="c1">// Cambiar el directorio de trabajo remoto actual</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="n">ftp</span><span class="p">.</span><span class="na">changeWorkingDirectory</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
</span></code></pre></div>
<p>Para mostrar el directorio de trabajo local actual, tenemos que gestionarlo con la clase File y sus métodos.</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">// Obtener el directorio de trabajo local actual</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">String</span><span class="w"> </span><span class="n">workingDirectory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">&quot;user.dir&quot;</span><span class="p">);</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c1">// Mostrar el contenido del directorio de trabajo local actual</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">File</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">File</span><span class="p">(</span><span class="n">workingDirectory</span><span class="p">);</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">file</span><span class="p">.</span><span class="na">list</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="p">}</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="c1">// Cambiar el directorio de trabajo local actual</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="n">System</span><span class="p">.</span><span class="na">setProperty</span><span class="p">(</span><span class="s">&quot;user.dir&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fileName</span><span class="p">);</span>
</span></code></pre></div>
<h3 id="enviar-y-descargar-archivos-al-servidor">Enviar y descargar archivos al servidor</h3>
<p>En FTP los archivos se pueden cargar de dos formas diferentes:</p>
<p>Envío:</p>
<ul>
<li>Modo ASCII: el archivo se carga como texto, con las terminaciones de línea convertidas al estándar de red.</li>
<li>Modo binario: el archivo se carga tal, sin ninguna conversión.</li>
</ul>
<p>Descarga:</p>
<ul>
<li>Modo ASCII: el archivo se descarga como texto, con las terminaciones de línea convertidas al estándar local</li>
<li>Modo binario: el archivo se descarga tal cual, sin ninguna conversión.</li>
</ul>
<div class="language-java highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">sendTextFile</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">fileName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">FileNotFoundException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="n">ftp</span><span class="p">.</span><span class="na">setFileType</span><span class="p">(</span><span class="n">FTP</span><span class="p">.</span><span class="na">ASCII_FILE_TYPE</span><span class="p">);</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="n">File</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">File</span><span class="p">(</span><span class="n">getLocalWorkingDirectory</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fileName</span><span class="p">);</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">fileRemote</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileName</span><span class="p">;</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="n">InputStream</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FileInputStream</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">upload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftp</span><span class="p">.</span><span class="na">storeFile</span><span class="p">(</span><span class="n">fileRemote</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="p">);</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">    </span><span class="n">input</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">upload</span><span class="p">;</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="p">}</span>
</span></code></pre></div>
<div class="language-java highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">getTextFile</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">fileName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="n">ftp</span><span class="p">.</span><span class="na">setFileType</span><span class="p">(</span><span class="n">FTP</span><span class="p">.</span><span class="na">ASCII_FILE_TYPE</span><span class="p">);</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="c1">// The getLocalWorkingDirectory() it&#39;s a custom method (not from the Apache Commons library)</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">    </span><span class="c1">// that returns the path to the local file we want to download</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span><span class="n">File</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">File</span><span class="p">(</span><span class="n">getLocalWorkingDirectory</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fileName</span><span class="p">);</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">    </span><span class="c1">// The file name in the server can be different from the local file name</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">fileRemote</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileName</span><span class="p">;</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">    </span><span class="n">OutputStream</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FileOutputStream</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">download</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftp</span><span class="p">.</span><span class="na">retrieveFile</span><span class="p">(</span><span class="n">fileRemote</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">);</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="w">    </span><span class="n">output</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">download</span><span class="p">;</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="p">}</span>
</span></code></pre></div>
<div class="language-java highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">sendBinaryFile</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">fileName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">    </span><span class="n">ftp</span><span class="p">.</span><span class="na">setFileType</span><span class="p">(</span><span class="n">FTP</span><span class="p">.</span><span class="na">BINARY_FILE_TYPE</span><span class="p">);</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="n">File</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">File</span><span class="p">(</span><span class="n">getLocalWorkingDirectory</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fileName</span><span class="p">);</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">fileRemote</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileName</span><span class="p">;</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">    </span><span class="n">InputStream</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FileInputStream</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="n">OutputStream</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftp</span><span class="p">.</span><span class="na">storeFileStream</span><span class="p">(</span><span class="n">fileRemote</span><span class="p">);</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">    </span><span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">bytesIn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">byte</span><span class="o">[</span><span class="mi">4096</span><span class="o">]</span><span class="p">;</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">read</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="na">read</span><span class="p">(</span><span class="n">bytesIn</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">        </span><span class="n">output</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">bytesIn</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">read</span><span class="p">);</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">    </span><span class="n">input</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">    </span><span class="n">output</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">upload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftp</span><span class="p">.</span><span class="na">completePendingCommand</span><span class="p">();</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">upload</span><span class="p">;</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="p">}</span>
</span></code></pre></div>
<div class="language-java highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">getBinaryFile</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">fileName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="n">ftp</span><span class="p">.</span><span class="na">setFileType</span><span class="p">(</span><span class="n">FTP</span><span class="p">.</span><span class="na">BINARY_FILE_TYPE</span><span class="p">);</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="c1">// The getLocalWorkingDirectory() it&#39;s a custom method (not from the Apache Commons library)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="c1">// that returns the path to the local file we want to download</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">    </span><span class="n">File</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">File</span><span class="p">(</span><span class="n">getLocalWorkingDirectory</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fileName</span><span class="p">);</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="c1">// The file name in the server can be different from the local file name</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">fileRemote</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileName</span><span class="p">;</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">    </span><span class="n">OutputStream</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FileOutputStream</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">    </span><span class="n">InputStream</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftp</span><span class="p">.</span><span class="na">retrieveFileStream</span><span class="p">(</span><span class="n">fileRemote</span><span class="p">);</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">    </span><span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">bytesIn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">byte</span><span class="o">[</span><span class="mi">4096</span><span class="o">]</span><span class="p">;</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">read</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="na">read</span><span class="p">(</span><span class="n">bytesIn</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="w">        </span><span class="n">output</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">bytesIn</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">read</span><span class="p">);</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">download</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftp</span><span class="p">.</span><span class="na">completePendingCommand</span><span class="p">();</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="w">    </span><span class="n">input</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">    </span><span class="n">output</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>
</span><span id="__span-10-25"><a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">download</span><span class="p">;</span>
</span><span id="__span-10-26"><a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="otras-acciones">Otras acciones</h3>
<h4 id="mostrar-informacion-de-los-archivos-y-propiedades-de-los-archivos">Mostrar información de los archivos y propiedades de los archivos</h4>
<div class="language-java highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">showFileInfo</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">fileName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">    </span><span class="n">FTPFile</span><span class="o">[]</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftp</span><span class="p">.</span><span class="na">listFiles</span><span class="p">(</span><span class="n">fileName</span><span class="p">);</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">FTPFile</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">files</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="na">getTimestamp</span><span class="p">().</span><span class="na">getTime</span><span class="p">());</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="na">getSize</span><span class="p">());</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="na">getType</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">FTPFile</span><span class="p">.</span><span class="na">FILE_TYPE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">            </span><span class="n">tipo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;File&quot;</span><span class="p">;</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="na">getType</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">FTPFile</span><span class="p">.</span><span class="na">DIRECTORY_TYPE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="n">tipo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Folder&quot;</span><span class="p">;}</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="p">}</span><span class="w">   </span>
</span></code></pre></div>
<h4 id="anadir-y-eleminar-directores-ftp-remotos">Añadir y eleminar directores FTP remotos</h4>
<div class="language-java highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addRemoteDirectory</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">directory</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="n">ftp</span><span class="p">.</span><span class="na">makeDirectory</span><span class="p">(</span><span class="n">directory</span><span class="p">);</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="p">}</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">removeRemoteDirectory</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">directory</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">    </span><span class="n">ftp</span><span class="p">.</span><span class="na">removeDirectory</span><span class="p">(</span><span class="n">directory</span><span class="p">);</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="crear-y-eliminar-archivos-ftp-remotos">Crear y eliminar archivos FTP remotos</h4>
<div class="language-java highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addRemoteFile</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">fileName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="n">ftp</span><span class="p">.</span><span class="na">storeFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ByteArrayInputStream</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">byte</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">));</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="p">}</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">removeRemoteFile</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">fileName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">    </span><span class="n">ftp</span><span class="p">.</span><span class="na">deleteFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">);</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="ejemplo-de-cliente-de-ftp">Ejemplo de cliente de FTP</h3>
<p>clienteFTPBásico.java</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.swing.*</span><span class="p">;</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.swing.event.*</span><span class="p">;</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.commons.net.PrintCommandListener</span><span class="p">;</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.commons.net.ftp.*</span><span class="p">;</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.*</span><span class="p">;</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.*</span><span class="p">;</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.event.*</span><span class="p">;</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">clienteFTPBasico</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">JFrame</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">serialVersionUID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1L</span><span class="p">;</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">    </span><span class="c1">//campos de cabecera parte superior</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">JTextField</span><span class="w"> </span><span class="n">cab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JTextField</span><span class="p">();</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">JTextField</span><span class="w"> </span><span class="n">cab2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JTextField</span><span class="p">();</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">JTextField</span><span class="w"> </span><span class="n">cab3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JTextField</span><span class="p">();</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="w">    </span><span class="c1">//campos de mensajes parte inferior</span>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">JTextField</span><span class="w"> </span><span class="n">campo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JTextField</span><span class="p">();</span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">JTextField</span><span class="w"> </span><span class="n">campo2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JTextField</span><span class="p">();</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a>
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="w">    </span><span class="c1">//botones</span>
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a><span class="w">    </span><span class="n">JButton</span><span class="w"> </span><span class="n">botonCargar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Subir fichero&quot;</span><span class="p">);</span>
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a><span class="w">    </span><span class="n">JButton</span><span class="w"> </span><span class="n">botonDescargar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Descargar fichero&quot;</span><span class="p">);</span>
</span><span id="__span-14-24"><a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a><span class="w">    </span><span class="n">JButton</span><span class="w"> </span><span class="n">botonBorrar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Eliminar fichero&quot;</span><span class="p">);</span>
</span><span id="__span-14-25"><a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a><span class="w">    </span><span class="n">JButton</span><span class="w"> </span><span class="n">botonCreaDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Crear carpeta&quot;</span><span class="p">);</span>
</span><span id="__span-14-26"><a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a><span class="w">    </span><span class="n">JButton</span><span class="w"> </span><span class="n">botonDelDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Eliminar carpeta&quot;</span><span class="p">);</span><span class="w">  </span>
</span><span id="__span-14-27"><a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a><span class="w">    </span><span class="n">JButton</span><span class="w"> </span><span class="n">botonSalir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Salir&quot;</span><span class="p">);</span>
</span><span id="__span-14-28"><a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a>
</span><span id="__span-14-29"><a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a><span class="w">    </span><span class="c1">//lista para los datos del directorio</span>
</span><span id="__span-14-30"><a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">JList</span><span class="w"> </span><span class="n">listaDirec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JList</span><span class="p">();</span>
</span><span id="__span-14-31"><a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a>
</span><span id="__span-14-32"><a id="__codelineno-14-32" name="__codelineno-14-32" href="#__codelineno-14-32"></a><span class="w">    </span><span class="c1">//contenedor</span>
</span><span id="__span-14-33"><a id="__codelineno-14-33" name="__codelineno-14-33" href="#__codelineno-14-33"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Container</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getContentPane</span><span class="p">();</span>
</span><span id="__span-14-34"><a id="__codelineno-14-34" name="__codelineno-14-34" href="#__codelineno-14-34"></a>
</span><span id="__span-14-35"><a id="__codelineno-14-35" name="__codelineno-14-35" href="#__codelineno-14-35"></a><span class="w">    </span><span class="c1">//Datos del servidor FTP</span>
</span><span id="__span-14-36"><a id="__codelineno-14-36" name="__codelineno-14-36" href="#__codelineno-14-36"></a><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">FTPClient</span><span class="w"> </span><span class="n">cliente</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FTPClient</span><span class="p">();</span><span class="c1">//cliente FTP</span>
</span><span id="__span-14-37"><a id="__codelineno-14-37" name="__codelineno-14-37" href="#__codelineno-14-37"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">servidor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;localhost&quot;</span><span class="p">;</span>
</span><span id="__span-14-38"><a id="__codelineno-14-38" name="__codelineno-14-38" href="#__codelineno-14-38"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;usuario1&quot;</span><span class="p">;</span>
</span><span id="__span-14-39"><a id="__codelineno-14-39" name="__codelineno-14-39" href="#__codelineno-14-39"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">pasw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;usu1&quot;</span><span class="p">;</span>
</span><span id="__span-14-40"><a id="__codelineno-14-40" name="__codelineno-14-40" href="#__codelineno-14-40"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">login</span><span class="p">;</span>
</span><span id="__span-14-41"><a id="__codelineno-14-41" name="__codelineno-14-41" href="#__codelineno-14-41"></a><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">direcInicial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="p">;</span>
</span><span id="__span-14-42"><a id="__codelineno-14-42" name="__codelineno-14-42" href="#__codelineno-14-42"></a>
</span><span id="__span-14-43"><a id="__codelineno-14-43" name="__codelineno-14-43" href="#__codelineno-14-43"></a><span class="w">    </span><span class="c1">//para saber directorio y fichero seleccionado</span>
</span><span id="__span-14-44"><a id="__codelineno-14-44" name="__codelineno-14-44" href="#__codelineno-14-44"></a><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">direcSelec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">direcInicial</span><span class="p">;</span>
</span><span id="__span-14-45"><a id="__codelineno-14-45" name="__codelineno-14-45" href="#__codelineno-14-45"></a><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">ficheroSelec</span><span class="w"> </span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">;</span>
</span><span id="__span-14-46"><a id="__codelineno-14-46" name="__codelineno-14-46" href="#__codelineno-14-46"></a>
</span><span id="__span-14-47"><a id="__codelineno-14-47" name="__codelineno-14-47" href="#__codelineno-14-47"></a><span class="w">    </span><span class="c1">// constructor</span>
</span><span id="__span-14-48"><a id="__codelineno-14-48" name="__codelineno-14-48" href="#__codelineno-14-48"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">clienteFTPBasico</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-49"><a id="__codelineno-14-49" name="__codelineno-14-49" href="#__codelineno-14-49"></a><span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="s">&quot;CLIENTE BÁSICO FTP&quot;</span><span class="p">);</span><span class="w">        </span>
</span><span id="__span-14-50"><a id="__codelineno-14-50" name="__codelineno-14-50" href="#__codelineno-14-50"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Conectandose a &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">servidor</span><span class="p">);</span>
</span><span id="__span-14-51"><a id="__codelineno-14-51" name="__codelineno-14-51" href="#__codelineno-14-51"></a>
</span><span id="__span-14-52"><a id="__codelineno-14-52" name="__codelineno-14-52" href="#__codelineno-14-52"></a><span class="w">        </span><span class="n">cliente</span><span class="p">.</span><span class="na">addProtocolCommandListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PrintCommandListener</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PrintWriter</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">)</span><span class="w"> </span><span class="p">));</span><span class="w"> </span>
</span><span id="__span-14-53"><a id="__codelineno-14-53" name="__codelineno-14-53" href="#__codelineno-14-53"></a><span class="w">        </span><span class="n">cliente</span><span class="p">.</span><span class="na">connect</span><span class="p">(</span><span class="n">servidor</span><span class="p">);</span>
</span><span id="__span-14-54"><a id="__codelineno-14-54" name="__codelineno-14-54" href="#__codelineno-14-54"></a><span class="w">        </span><span class="n">cliente</span><span class="p">.</span><span class="na">enterLocalPassiveMode</span><span class="p">();</span>
</span><span id="__span-14-55"><a id="__codelineno-14-55" name="__codelineno-14-55" href="#__codelineno-14-55"></a><span class="w">        </span><span class="n">login</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cliente</span><span class="p">.</span><span class="na">login</span><span class="p">(</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">pasw</span><span class="p">);</span>
</span><span id="__span-14-56"><a id="__codelineno-14-56" name="__codelineno-14-56" href="#__codelineno-14-56"></a>
</span><span id="__span-14-57"><a id="__codelineno-14-57" name="__codelineno-14-57" href="#__codelineno-14-57"></a><span class="w">        </span><span class="n">cliente</span><span class="p">.</span><span class="na">changeWorkingDirectory</span><span class="p">(</span><span class="n">direcInicial</span><span class="p">);</span><span class="w">       </span>
</span><span id="__span-14-58"><a id="__codelineno-14-58" name="__codelineno-14-58" href="#__codelineno-14-58"></a>
</span><span id="__span-14-59"><a id="__codelineno-14-59" name="__codelineno-14-59" href="#__codelineno-14-59"></a><span class="w">        </span><span class="n">FTPFile</span><span class="o">[]</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cliente</span><span class="p">.</span><span class="na">listFiles</span><span class="p">();</span><span class="w">      </span>
</span><span id="__span-14-60"><a id="__codelineno-14-60" name="__codelineno-14-60" href="#__codelineno-14-60"></a><span class="w">        </span><span class="c1">//Construyendo arbol de directorios, espere un momento  </span>
</span><span id="__span-14-61"><a id="__codelineno-14-61" name="__codelineno-14-61" href="#__codelineno-14-61"></a><span class="w">        </span><span class="n">llenarLista</span><span class="p">(</span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="n">direcInicial</span><span class="p">);</span>
</span><span id="__span-14-62"><a id="__codelineno-14-62" name="__codelineno-14-62" href="#__codelineno-14-62"></a>
</span><span id="__span-14-63"><a id="__codelineno-14-63" name="__codelineno-14-63" href="#__codelineno-14-63"></a><span class="w">        </span><span class="n">campo</span><span class="p">.</span><span class="na">setBounds</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">485</span><span class="p">,</span><span class="w"> </span><span class="mi">485</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span>
</span><span id="__span-14-64"><a id="__codelineno-14-64" name="__codelineno-14-64" href="#__codelineno-14-64"></a><span class="w">        </span><span class="n">campo</span><span class="p">.</span><span class="na">setForeground</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">blue</span><span class="p">);</span>
</span><span id="__span-14-65"><a id="__codelineno-14-65" name="__codelineno-14-65" href="#__codelineno-14-65"></a><span class="w">        </span><span class="n">campo</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Font</span><span class="p">(</span><span class="s">&quot;Verdana&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Font</span><span class="p">.</span><span class="na">BOLD</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">));</span>
</span><span id="__span-14-66"><a id="__codelineno-14-66" name="__codelineno-14-66" href="#__codelineno-14-66"></a><span class="w">        </span><span class="n">campo</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;&lt;&lt;   ARBOL DE DIRECTORIOS CONSTRUIDO    &gt;&gt;&quot;</span><span class="p">);</span>
</span><span id="__span-14-67"><a id="__codelineno-14-67" name="__codelineno-14-67" href="#__codelineno-14-67"></a><span class="w">        </span><span class="n">campo2</span><span class="p">.</span><span class="na">setBounds</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">515</span><span class="p">,</span><span class="w"> </span><span class="mi">485</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span>
</span><span id="__span-14-68"><a id="__codelineno-14-68" name="__codelineno-14-68" href="#__codelineno-14-68"></a><span class="w">        </span><span class="n">campo2</span><span class="p">.</span><span class="na">setForeground</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">blue</span><span class="p">);</span>
</span><span id="__span-14-69"><a id="__codelineno-14-69" name="__codelineno-14-69" href="#__codelineno-14-69"></a><span class="w">        </span><span class="n">campo2</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Font</span><span class="p">(</span><span class="s">&quot;Verdana&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Font</span><span class="p">.</span><span class="na">BOLD</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">));</span>
</span><span id="__span-14-70"><a id="__codelineno-14-70" name="__codelineno-14-70" href="#__codelineno-14-70"></a><span class="w">        </span><span class="n">campo2</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span>
</span><span id="__span-14-71"><a id="__codelineno-14-71" name="__codelineno-14-71" href="#__codelineno-14-71"></a>
</span><span id="__span-14-72"><a id="__codelineno-14-72" name="__codelineno-14-72" href="#__codelineno-14-72"></a><span class="w">        </span><span class="n">cab</span><span class="p">.</span><span class="na">setBounds</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span><span class="w">        </span>
</span><span id="__span-14-73"><a id="__codelineno-14-73" name="__codelineno-14-73" href="#__codelineno-14-73"></a><span class="w">        </span><span class="n">cab</span><span class="p">.</span><span class="na">setBorder</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</span><span id="__span-14-74"><a id="__codelineno-14-74" name="__codelineno-14-74" href="#__codelineno-14-74"></a><span class="w">        </span><span class="n">cab</span><span class="p">.</span><span class="na">setForeground</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">blue</span><span class="p">);</span>
</span><span id="__span-14-75"><a id="__codelineno-14-75" name="__codelineno-14-75" href="#__codelineno-14-75"></a><span class="w">        </span><span class="n">cab</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Font</span><span class="p">(</span><span class="s">&quot;Arial&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Font</span><span class="p">.</span><span class="na">BOLD</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">));</span><span class="w">              </span>
</span><span id="__span-14-76"><a id="__codelineno-14-76" name="__codelineno-14-76" href="#__codelineno-14-76"></a><span class="w">        </span><span class="n">cab</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;Servidor FTP: &quot;</span><span class="o">+</span><span class="n">servidor</span><span class="p">);</span>
</span><span id="__span-14-77"><a id="__codelineno-14-77" name="__codelineno-14-77" href="#__codelineno-14-77"></a>
</span><span id="__span-14-78"><a id="__codelineno-14-78" name="__codelineno-14-78" href="#__codelineno-14-78"></a><span class="w">        </span><span class="n">cab2</span><span class="p">.</span><span class="na">setBounds</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span>
</span><span id="__span-14-79"><a id="__codelineno-14-79" name="__codelineno-14-79" href="#__codelineno-14-79"></a><span class="w">        </span><span class="n">cab2</span><span class="p">.</span><span class="na">setBorder</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</span><span id="__span-14-80"><a id="__codelineno-14-80" name="__codelineno-14-80" href="#__codelineno-14-80"></a><span class="w">        </span><span class="n">cab2</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Font</span><span class="p">(</span><span class="s">&quot;Arial&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Font</span><span class="p">.</span><span class="na">BOLD</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">));</span>
</span><span id="__span-14-81"><a id="__codelineno-14-81" name="__codelineno-14-81" href="#__codelineno-14-81"></a><span class="w">        </span><span class="n">cab2</span><span class="p">.</span><span class="na">setForeground</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">blue</span><span class="p">);</span>
</span><span id="__span-14-82"><a id="__codelineno-14-82" name="__codelineno-14-82" href="#__codelineno-14-82"></a><span class="w">        </span><span class="n">cab2</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;Usuario: &quot;</span><span class="o">+</span><span class="n">user</span><span class="p">);</span>
</span><span id="__span-14-83"><a id="__codelineno-14-83" name="__codelineno-14-83" href="#__codelineno-14-83"></a>
</span><span id="__span-14-84"><a id="__codelineno-14-84" name="__codelineno-14-84" href="#__codelineno-14-84"></a><span class="w">        </span><span class="n">cab3</span><span class="p">.</span><span class="na">setBounds</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span>
</span><span id="__span-14-85"><a id="__codelineno-14-85" name="__codelineno-14-85" href="#__codelineno-14-85"></a><span class="w">        </span><span class="n">cab3</span><span class="p">.</span><span class="na">setBorder</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</span><span id="__span-14-86"><a id="__codelineno-14-86" name="__codelineno-14-86" href="#__codelineno-14-86"></a><span class="w">        </span><span class="n">cab3</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Font</span><span class="p">(</span><span class="s">&quot;Arial&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Font</span><span class="p">.</span><span class="na">BOLD</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">));</span>
</span><span id="__span-14-87"><a id="__codelineno-14-87" name="__codelineno-14-87" href="#__codelineno-14-87"></a><span class="w">        </span><span class="n">cab3</span><span class="p">.</span><span class="na">setForeground</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">blue</span><span class="p">);</span>
</span><span id="__span-14-88"><a id="__codelineno-14-88" name="__codelineno-14-88" href="#__codelineno-14-88"></a><span class="w">        </span><span class="n">cab3</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;DIRECTORIO RAIZ: &quot;</span><span class="o">+</span><span class="n">direcInicial</span><span class="p">);</span><span class="w">     </span>
</span><span id="__span-14-89"><a id="__codelineno-14-89" name="__codelineno-14-89" href="#__codelineno-14-89"></a>
</span><span id="__span-14-90"><a id="__codelineno-14-90" name="__codelineno-14-90" href="#__codelineno-14-90"></a><span class="w">        </span><span class="n">botonCargar</span><span class="p">.</span><span class="na">setBounds</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span>
</span><span id="__span-14-91"><a id="__codelineno-14-91" name="__codelineno-14-91" href="#__codelineno-14-91"></a><span class="w">        </span><span class="n">botonDescargar</span><span class="p">.</span><span class="na">setBounds</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span>
</span><span id="__span-14-92"><a id="__codelineno-14-92" name="__codelineno-14-92" href="#__codelineno-14-92"></a><span class="w">        </span><span class="n">botonBorrar</span><span class="p">.</span><span class="na">setBounds</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span><span class="w">        </span>
</span><span id="__span-14-93"><a id="__codelineno-14-93" name="__codelineno-14-93" href="#__codelineno-14-93"></a><span class="w">        </span><span class="n">botonCreaDir</span><span class="p">.</span><span class="na">setBounds</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span>
</span><span id="__span-14-94"><a id="__codelineno-14-94" name="__codelineno-14-94" href="#__codelineno-14-94"></a><span class="w">        </span><span class="n">botonDelDir</span><span class="p">.</span><span class="na">setBounds</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span>
</span><span id="__span-14-95"><a id="__codelineno-14-95" name="__codelineno-14-95" href="#__codelineno-14-95"></a><span class="w">        </span><span class="n">botonSalir</span><span class="p">.</span><span class="na">setBounds</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span>
</span><span id="__span-14-96"><a id="__codelineno-14-96" name="__codelineno-14-96" href="#__codelineno-14-96"></a>
</span><span id="__span-14-97"><a id="__codelineno-14-97" name="__codelineno-14-97" href="#__codelineno-14-97"></a><span class="w">        </span><span class="c1">//PREPARACION DE LA LISTA</span>
</span><span id="__span-14-98"><a id="__codelineno-14-98" name="__codelineno-14-98" href="#__codelineno-14-98"></a><span class="w">        </span><span class="n">listaDirec</span><span class="p">.</span><span class="na">setSelectionMode</span><span class="p">(</span><span class="n">ListSelectionModel</span><span class="p">.</span><span class="na">SINGLE_SELECTION</span><span class="w"> </span><span class="p">);</span><span class="c1">//SINGLE_INTERVAL_SELECTION);</span>
</span><span id="__span-14-99"><a id="__codelineno-14-99" name="__codelineno-14-99" href="#__codelineno-14-99"></a><span class="w">        </span><span class="n">JScrollPane</span><span class="w"> </span><span class="n">barraDesplazamiento</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JScrollPane</span><span class="p">(</span><span class="n">listaDirec</span><span class="p">);</span>
</span><span id="__span-14-100"><a id="__codelineno-14-100" name="__codelineno-14-100" href="#__codelineno-14-100"></a><span class="w">        </span><span class="n">barraDesplazamiento</span><span class="p">.</span><span class="na">setPreferredSize</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Dimension</span><span class="p">(</span><span class="mi">335</span><span class="p">,</span><span class="w"> </span><span class="mi">420</span><span class="p">));</span>
</span><span id="__span-14-101"><a id="__codelineno-14-101" name="__codelineno-14-101" href="#__codelineno-14-101"></a><span class="w">        </span><span class="n">barraDesplazamiento</span><span class="p">.</span><span class="na">setBounds</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w"> </span><span class="mi">335</span><span class="p">,</span><span class="w"> </span><span class="mi">420</span><span class="p">));</span>
</span><span id="__span-14-102"><a id="__codelineno-14-102" name="__codelineno-14-102" href="#__codelineno-14-102"></a><span class="w">        </span><span class="n">c</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">barraDesplazamiento</span><span class="p">);</span>
</span><span id="__span-14-103"><a id="__codelineno-14-103" name="__codelineno-14-103" href="#__codelineno-14-103"></a><span class="w">        </span><span class="n">c</span><span class="p">.</span><span class="na">setLayout</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span><span class="w">      </span>
</span><span id="__span-14-104"><a id="__codelineno-14-104" name="__codelineno-14-104" href="#__codelineno-14-104"></a>
</span><span id="__span-14-105"><a id="__codelineno-14-105" name="__codelineno-14-105" href="#__codelineno-14-105"></a><span class="w">        </span><span class="n">c</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">campo</span><span class="p">);</span><span class="w"> </span><span class="n">campo</span><span class="p">.</span><span class="na">setEditable</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</span><span id="__span-14-106"><a id="__codelineno-14-106" name="__codelineno-14-106" href="#__codelineno-14-106"></a><span class="w">        </span><span class="n">c</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">campo2</span><span class="p">);</span><span class="w"> </span><span class="n">campo2</span><span class="p">.</span><span class="na">setEditable</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</span><span id="__span-14-107"><a id="__codelineno-14-107" name="__codelineno-14-107" href="#__codelineno-14-107"></a><span class="w">        </span><span class="n">c</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">botonCargar</span><span class="p">);</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">botonDescargar</span><span class="p">);</span><span class="w">  </span><span class="n">c</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">botonBorrar</span><span class="p">);</span>
</span><span id="__span-14-108"><a id="__codelineno-14-108" name="__codelineno-14-108" href="#__codelineno-14-108"></a><span class="w">        </span><span class="n">c</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">botonSalir</span><span class="p">);</span><span class="n">c</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">botonCreaDir</span><span class="p">);</span><span class="n">c</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">botonDelDir</span><span class="p">);</span>
</span><span id="__span-14-109"><a id="__codelineno-14-109" name="__codelineno-14-109" href="#__codelineno-14-109"></a><span class="w">        </span><span class="n">c</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">cab</span><span class="p">);</span><span class="n">c</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">cab2</span><span class="p">);</span><span class="n">c</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">cab3</span><span class="p">);</span>
</span><span id="__span-14-110"><a id="__codelineno-14-110" name="__codelineno-14-110" href="#__codelineno-14-110"></a><span class="w">        </span><span class="n">cab</span><span class="p">.</span><span class="na">setEditable</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="n">cab2</span><span class="p">.</span><span class="na">setEditable</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="n">cab3</span><span class="p">.</span><span class="na">setEditable</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</span><span id="__span-14-111"><a id="__codelineno-14-111" name="__codelineno-14-111" href="#__codelineno-14-111"></a>
</span><span id="__span-14-112"><a id="__codelineno-14-112" name="__codelineno-14-112" href="#__codelineno-14-112"></a><span class="w">        </span><span class="n">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>
</span><span id="__span-14-113"><a id="__codelineno-14-113" name="__codelineno-14-113" href="#__codelineno-14-113"></a><span class="w">        </span><span class="n">setSize</span><span class="p">(</span><span class="mi">510</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">);</span>
</span><span id="__span-14-114"><a id="__codelineno-14-114" name="__codelineno-14-114" href="#__codelineno-14-114"></a><span class="w">        </span><span class="n">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</span><span id="__span-14-115"><a id="__codelineno-14-115" name="__codelineno-14-115" href="#__codelineno-14-115"></a>
</span><span id="__span-14-116"><a id="__codelineno-14-116" name="__codelineno-14-116" href="#__codelineno-14-116"></a><span class="w">        </span><span class="c1">//--clic en un elemento de la lista</span>
</span><span id="__span-14-117"><a id="__codelineno-14-117" name="__codelineno-14-117" href="#__codelineno-14-117"></a><span class="w">        </span><span class="n">listaDirec</span><span class="p">.</span><span class="na">addListSelectionListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ListSelectionListener</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">   </span>
</span><span id="__span-14-118"><a id="__codelineno-14-118" name="__codelineno-14-118" href="#__codelineno-14-118"></a><span class="w">              </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">valueChanged</span><span class="p">(</span><span class="n">ListSelectionEvent</span><span class="w"> </span><span class="n">lse</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-119"><a id="__codelineno-14-119" name="__codelineno-14-119" href="#__codelineno-14-119"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">lse</span><span class="p">.</span><span class="na">getValueIsAdjusting</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-120"><a id="__codelineno-14-120" name="__codelineno-14-120" href="#__codelineno-14-120"></a>
</span><span id="__span-14-121"><a id="__codelineno-14-121" name="__codelineno-14-121" href="#__codelineno-14-121"></a><span class="w">                  </span><span class="n">ficheroSelec</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">;</span>
</span><span id="__span-14-122"><a id="__codelineno-14-122" name="__codelineno-14-122" href="#__codelineno-14-122"></a>
</span><span id="__span-14-123"><a id="__codelineno-14-123" name="__codelineno-14-123" href="#__codelineno-14-123"></a><span class="w">                  </span><span class="c1">//elemento seleccionado de la lista</span>
</span><span id="__span-14-124"><a id="__codelineno-14-124" name="__codelineno-14-124" href="#__codelineno-14-124"></a><span class="w">                  </span><span class="n">String</span><span class="w"> </span><span class="n">fic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listaDirec</span><span class="p">.</span><span class="na">getSelectedValue</span><span class="p">().</span><span class="na">toString</span><span class="p">();</span>
</span><span id="__span-14-125"><a id="__codelineno-14-125" name="__codelineno-14-125" href="#__codelineno-14-125"></a>
</span><span id="__span-14-126"><a id="__codelineno-14-126" name="__codelineno-14-126" href="#__codelineno-14-126"></a><span class="w">                  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">listaDirec</span><span class="p">.</span><span class="na">getSelectedIndex</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-127"><a id="__codelineno-14-127" name="__codelineno-14-127" href="#__codelineno-14-127"></a><span class="w">                      </span><span class="c1">//Se hace clic en el primer elemento del JList</span>
</span><span id="__span-14-128"><a id="__codelineno-14-128" name="__codelineno-14-128" href="#__codelineno-14-128"></a><span class="w">                      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">fic</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">direcInicial</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-14-129"><a id="__codelineno-14-129" name="__codelineno-14-129" href="#__codelineno-14-129"></a><span class="w">                          </span><span class="c1">//si no estamos en el dictorio inicial, hay que </span>
</span><span id="__span-14-130"><a id="__codelineno-14-130" name="__codelineno-14-130" href="#__codelineno-14-130"></a><span class="w">                          </span><span class="c1">//subir al directorio padre</span>
</span><span id="__span-14-131"><a id="__codelineno-14-131" name="__codelineno-14-131" href="#__codelineno-14-131"></a><span class="w">                      </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-132"><a id="__codelineno-14-132" name="__codelineno-14-132" href="#__codelineno-14-132"></a><span class="w">                        </span><span class="n">cliente</span><span class="p">.</span><span class="na">changeToParentDirectory</span><span class="p">();</span>
</span><span id="__span-14-133"><a id="__codelineno-14-133" name="__codelineno-14-133" href="#__codelineno-14-133"></a><span class="w">                        </span><span class="n">direcSelec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cliente</span><span class="p">.</span><span class="na">printWorkingDirectory</span><span class="p">();</span><span class="w">                   </span>
</span><span id="__span-14-134"><a id="__codelineno-14-134" name="__codelineno-14-134" href="#__codelineno-14-134"></a><span class="w">                        </span><span class="n">cliente</span><span class="p">.</span><span class="na">changeWorkingDirectory</span><span class="p">(</span><span class="n">direcSelec</span><span class="p">);</span>
</span><span id="__span-14-135"><a id="__codelineno-14-135" name="__codelineno-14-135" href="#__codelineno-14-135"></a><span class="w">                        </span><span class="n">FTPFile</span><span class="o">[]</span><span class="w"> </span><span class="n">ff2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cliente</span><span class="p">.</span><span class="na">listFiles</span><span class="p">();</span>
</span><span id="__span-14-136"><a id="__codelineno-14-136" name="__codelineno-14-136" href="#__codelineno-14-136"></a><span class="w">                        </span><span class="n">campo</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
</span><span id="__span-14-137"><a id="__codelineno-14-137" name="__codelineno-14-137" href="#__codelineno-14-137"></a><span class="w">                              </span><span class="c1">//se llena la lista con fich. del directorio padre</span>
</span><span id="__span-14-138"><a id="__codelineno-14-138" name="__codelineno-14-138" href="#__codelineno-14-138"></a><span class="w">                        </span><span class="n">llenarLista</span><span class="p">(</span><span class="n">ff2</span><span class="p">,</span><span class="w"> </span><span class="n">direcSelec</span><span class="p">);</span>
</span><span id="__span-14-139"><a id="__codelineno-14-139" name="__codelineno-14-139" href="#__codelineno-14-139"></a><span class="w">                        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();}</span>
</span><span id="__span-14-140"><a id="__codelineno-14-140" name="__codelineno-14-140" href="#__codelineno-14-140"></a><span class="w">                      </span><span class="p">}</span>
</span><span id="__span-14-141"><a id="__codelineno-14-141" name="__codelineno-14-141" href="#__codelineno-14-141"></a><span class="w">                  </span><span class="p">}</span>
</span><span id="__span-14-142"><a id="__codelineno-14-142" name="__codelineno-14-142" href="#__codelineno-14-142"></a><span class="w">                  </span><span class="c1">//No se hace clic en el primer elemento del JList</span>
</span><span id="__span-14-143"><a id="__codelineno-14-143" name="__codelineno-14-143" href="#__codelineno-14-143"></a><span class="w">                  </span><span class="c1">//Puede ser un fichero o un directorio</span>
</span><span id="__span-14-144"><a id="__codelineno-14-144" name="__codelineno-14-144" href="#__codelineno-14-144"></a><span class="w">                  </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-145"><a id="__codelineno-14-145" name="__codelineno-14-145" href="#__codelineno-14-145"></a><span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fic</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">).</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;(DIR) &quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-146"><a id="__codelineno-14-146" name="__codelineno-14-146" href="#__codelineno-14-146"></a><span class="w">                        </span><span class="c1">//SE TRATA DE UN DIRECTORIO</span>
</span><span id="__span-14-147"><a id="__codelineno-14-147" name="__codelineno-14-147" href="#__codelineno-14-147"></a><span class="w">                        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">       </span>
</span><span id="__span-14-148"><a id="__codelineno-14-148" name="__codelineno-14-148" href="#__codelineno-14-148"></a><span class="w">                          </span><span class="n">fic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fic</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span><span class="w">       </span>
</span><span id="__span-14-149"><a id="__codelineno-14-149" name="__codelineno-14-149" href="#__codelineno-14-149"></a><span class="w">                          </span><span class="n">String</span><span class="w"> </span><span class="n">direcSelec2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
</span><span id="__span-14-150"><a id="__codelineno-14-150" name="__codelineno-14-150" href="#__codelineno-14-150"></a><span class="w">                          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">direcSelec</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">))</span>
</span><span id="__span-14-151"><a id="__codelineno-14-151" name="__codelineno-14-151" href="#__codelineno-14-151"></a><span class="w">                            </span><span class="n">direcSelec2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">direcSelec</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fic</span><span class="p">;</span>
</span><span id="__span-14-152"><a id="__codelineno-14-152" name="__codelineno-14-152" href="#__codelineno-14-152"></a><span class="w">                          </span><span class="k">else</span>
</span><span id="__span-14-153"><a id="__codelineno-14-153" name="__codelineno-14-153" href="#__codelineno-14-153"></a><span class="w">                            </span><span class="n">direcSelec2</span><span class="o">=</span><span class="n">direcSelec</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fic</span><span class="p">;</span>
</span><span id="__span-14-154"><a id="__codelineno-14-154" name="__codelineno-14-154" href="#__codelineno-14-154"></a><span class="w">                          </span><span class="n">FTPFile</span><span class="o">[]</span><span class="w"> </span><span class="n">ff2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w"> </span>
</span><span id="__span-14-155"><a id="__codelineno-14-155" name="__codelineno-14-155" href="#__codelineno-14-155"></a><span class="w">                                </span><span class="n">cliente</span><span class="p">.</span><span class="na">changeWorkingDirectory</span><span class="p">(</span><span class="n">direcSelec2</span><span class="p">);</span>
</span><span id="__span-14-156"><a id="__codelineno-14-156" name="__codelineno-14-156" href="#__codelineno-14-156"></a><span class="w">                          </span><span class="n">ff2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cliente</span><span class="p">.</span><span class="na">listFiles</span><span class="p">();</span>
</span><span id="__span-14-157"><a id="__codelineno-14-157" name="__codelineno-14-157" href="#__codelineno-14-157"></a><span class="w">                          </span><span class="n">campo</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;DIRECTORIO:  &quot;</span><span class="o">+</span><span class="w"> </span><span class="n">fic</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span>
</span><span id="__span-14-158"><a id="__codelineno-14-158" name="__codelineno-14-158" href="#__codelineno-14-158"></a><span class="w">                                                      </span><span class="o">+</span><span class="w"> </span><span class="n">ff2</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; elementos&quot;</span><span class="p">);</span>
</span><span id="__span-14-159"><a id="__codelineno-14-159" name="__codelineno-14-159" href="#__codelineno-14-159"></a><span class="w">                          </span><span class="n">direcSelec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">direcSelec2</span><span class="p">;</span><span class="w">                           </span><span class="n">llenarLista</span><span class="p">(</span><span class="n">ff2</span><span class="p">,</span><span class="w"> </span><span class="n">direcSelec</span><span class="p">);</span>
</span><span id="__span-14-160"><a id="__codelineno-14-160" name="__codelineno-14-160" href="#__codelineno-14-160"></a><span class="w">                        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="n">e2</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();}</span>
</span><span id="__span-14-161"><a id="__codelineno-14-161" name="__codelineno-14-161" href="#__codelineno-14-161"></a><span class="w">                          </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-162"><a id="__codelineno-14-162" name="__codelineno-14-162" href="#__codelineno-14-162"></a><span class="w">                           </span><span class="c1">// SE TRATA DE UN FICHERO </span>
</span><span id="__span-14-163"><a id="__codelineno-14-163" name="__codelineno-14-163" href="#__codelineno-14-163"></a><span class="w">                           </span><span class="n">ficheroSelec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">direcSelec</span><span class="p">;</span>
</span><span id="__span-14-164"><a id="__codelineno-14-164" name="__codelineno-14-164" href="#__codelineno-14-164"></a><span class="w">                             </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">direcSelec</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">))</span>
</span><span id="__span-14-165"><a id="__codelineno-14-165" name="__codelineno-14-165" href="#__codelineno-14-165"></a><span class="w">                             </span><span class="n">ficheroSelec</span><span class="w"> </span><span class="o">+=</span><span class="w">  </span><span class="n">fic</span><span class="p">;</span>
</span><span id="__span-14-166"><a id="__codelineno-14-166" name="__codelineno-14-166" href="#__codelineno-14-166"></a><span class="w">                           </span><span class="k">else</span>
</span><span id="__span-14-167"><a id="__codelineno-14-167" name="__codelineno-14-167" href="#__codelineno-14-167"></a><span class="w">                             </span><span class="n">ficheroSelec</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fic</span><span class="p">;</span>
</span><span id="__span-14-168"><a id="__codelineno-14-168" name="__codelineno-14-168" href="#__codelineno-14-168"></a><span class="w">                           </span><span class="n">campo</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;FICHERO seleccionado:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>
</span><span id="__span-14-169"><a id="__codelineno-14-169" name="__codelineno-14-169" href="#__codelineno-14-169"></a><span class="w">                                                               </span><span class="n">ficheroSelec</span><span class="p">);</span>
</span><span id="__span-14-170"><a id="__codelineno-14-170" name="__codelineno-14-170" href="#__codelineno-14-170"></a><span class="w">                                 </span><span class="n">ficheroSelec</span><span class="o">=</span><span class="n">fic</span><span class="p">;</span>
</span><span id="__span-14-171"><a id="__codelineno-14-171" name="__codelineno-14-171" href="#__codelineno-14-171"></a><span class="w">                          </span><span class="p">}</span><span class="c1">//fin else</span>
</span><span id="__span-14-172"><a id="__codelineno-14-172" name="__codelineno-14-172" href="#__codelineno-14-172"></a><span class="w">                   </span><span class="p">}</span><span class="c1">//else de fichero o directorio</span>
</span><span id="__span-14-173"><a id="__codelineno-14-173" name="__codelineno-14-173" href="#__codelineno-14-173"></a><span class="w">                 </span><span class="n">campo2</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;DIRECTORIO ACTUAL: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">direcSelec</span><span class="p">);</span>
</span><span id="__span-14-174"><a id="__codelineno-14-174" name="__codelineno-14-174" href="#__codelineno-14-174"></a><span class="w">                </span><span class="p">}</span><span class="c1">//fin if inicial               </span>
</span><span id="__span-14-175"><a id="__codelineno-14-175" name="__codelineno-14-175" href="#__codelineno-14-175"></a><span class="w">              </span><span class="p">}</span>
</span><span id="__span-14-176"><a id="__codelineno-14-176" name="__codelineno-14-176" href="#__codelineno-14-176"></a><span class="w">            </span><span class="p">});</span><span class="c1">// fin lista</span>
</span><span id="__span-14-177"><a id="__codelineno-14-177" name="__codelineno-14-177" href="#__codelineno-14-177"></a>
</span><span id="__span-14-178"><a id="__codelineno-14-178" name="__codelineno-14-178" href="#__codelineno-14-178"></a>
</span><span id="__span-14-179"><a id="__codelineno-14-179" name="__codelineno-14-179" href="#__codelineno-14-179"></a><span class="w">        </span><span class="c1">// --al hacer clic en el bot�n Salir</span>
</span><span id="__span-14-180"><a id="__codelineno-14-180" name="__codelineno-14-180" href="#__codelineno-14-180"></a><span class="w">        </span><span class="n">botonSalir</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ActionListener</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-181"><a id="__codelineno-14-181" name="__codelineno-14-181" href="#__codelineno-14-181"></a><span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-182"><a id="__codelineno-14-182" name="__codelineno-14-182" href="#__codelineno-14-182"></a><span class="w">                </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-183"><a id="__codelineno-14-183" name="__codelineno-14-183" href="#__codelineno-14-183"></a><span class="w">                    </span><span class="n">cliente</span><span class="p">.</span><span class="na">disconnect</span><span class="p">();</span><span class="w">                   </span>
</span><span id="__span-14-184"><a id="__codelineno-14-184" name="__codelineno-14-184" href="#__codelineno-14-184"></a><span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                  </span>
</span><span id="__span-14-185"><a id="__codelineno-14-185" name="__codelineno-14-185" href="#__codelineno-14-185"></a><span class="w">                    </span><span class="n">e1</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-14-186"><a id="__codelineno-14-186" name="__codelineno-14-186" href="#__codelineno-14-186"></a><span class="w">                </span><span class="p">}</span>
</span><span id="__span-14-187"><a id="__codelineno-14-187" name="__codelineno-14-187" href="#__codelineno-14-187"></a><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-14-188"><a id="__codelineno-14-188" name="__codelineno-14-188" href="#__codelineno-14-188"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-14-189"><a id="__codelineno-14-189" name="__codelineno-14-189" href="#__codelineno-14-189"></a><span class="w">        </span><span class="p">});</span>
</span><span id="__span-14-190"><a id="__codelineno-14-190" name="__codelineno-14-190" href="#__codelineno-14-190"></a>
</span><span id="__span-14-191"><a id="__codelineno-14-191" name="__codelineno-14-191" href="#__codelineno-14-191"></a><span class="w">        </span><span class="c1">//CREAR CARPETA</span>
</span><span id="__span-14-192"><a id="__codelineno-14-192" name="__codelineno-14-192" href="#__codelineno-14-192"></a><span class="w">        </span><span class="n">botonCreaDir</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ActionListener</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-193"><a id="__codelineno-14-193" name="__codelineno-14-193" href="#__codelineno-14-193"></a><span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-194"><a id="__codelineno-14-194" name="__codelineno-14-194" href="#__codelineno-14-194"></a><span class="w">                </span><span class="n">String</span><span class="w"> </span><span class="n">nombreCarpeta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showInputDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span>
</span><span id="__span-14-195"><a id="__codelineno-14-195" name="__codelineno-14-195" href="#__codelineno-14-195"></a><span class="w">                   </span><span class="s">&quot;Introduce el nombre del directorio&quot;</span><span class="p">,</span>
</span><span id="__span-14-196"><a id="__codelineno-14-196" name="__codelineno-14-196" href="#__codelineno-14-196"></a><span class="w">                   </span><span class="s">&quot;carpeta&quot;</span><span class="p">);</span><span class="w">  </span>
</span><span id="__span-14-197"><a id="__codelineno-14-197" name="__codelineno-14-197" href="#__codelineno-14-197"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">nombreCarpeta</span><span class="o">==</span><span class="kc">null</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-198"><a id="__codelineno-14-198" name="__codelineno-14-198" href="#__codelineno-14-198"></a><span class="w">                    </span><span class="n">String</span><span class="w"> </span><span class="n">directorio</span><span class="o">=</span><span class="n">direcSelec</span><span class="p">;</span>
</span><span id="__span-14-199"><a id="__codelineno-14-199" name="__codelineno-14-199" href="#__codelineno-14-199"></a><span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">direcSelec</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">))</span>
</span><span id="__span-14-200"><a id="__codelineno-14-200" name="__codelineno-14-200" href="#__codelineno-14-200"></a><span class="w">                        </span><span class="n">directorio</span><span class="w"> </span><span class="o">=</span><span class="n">directorio</span><span class="w"> </span><span class="o">+</span><span class="s">&quot;/&quot;</span><span class="p">;</span>
</span><span id="__span-14-201"><a id="__codelineno-14-201" name="__codelineno-14-201" href="#__codelineno-14-201"></a><span class="w">                    </span><span class="n">directorio</span><span class="o">+=</span><span class="n">nombreCarpeta</span><span class="p">.</span><span class="na">trim</span><span class="p">()</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-14-202"><a id="__codelineno-14-202" name="__codelineno-14-202" href="#__codelineno-14-202"></a>
</span><span id="__span-14-203"><a id="__codelineno-14-203" name="__codelineno-14-203" href="#__codelineno-14-203"></a><span class="w">                    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-204"><a id="__codelineno-14-204" name="__codelineno-14-204" href="#__codelineno-14-204"></a><span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cliente</span><span class="p">.</span><span class="na">makeDirectory</span><span class="p">(</span><span class="n">directorio</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-205"><a id="__codelineno-14-205" name="__codelineno-14-205" href="#__codelineno-14-205"></a><span class="w">                            </span><span class="n">String</span><span class="w"> </span><span class="n">m</span><span class="o">=</span><span class="w"> </span><span class="n">nombreCarpeta</span><span class="p">.</span><span class="na">trim</span><span class="p">()</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; =&gt; Se ha creado correctamente ...&quot;</span><span class="p">;</span>
</span><span id="__span-14-206"><a id="__codelineno-14-206" name="__codelineno-14-206" href="#__codelineno-14-206"></a><span class="w">                            </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showMessageDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="p">);</span>
</span><span id="__span-14-207"><a id="__codelineno-14-207" name="__codelineno-14-207" href="#__codelineno-14-207"></a><span class="w">                            </span><span class="n">campo</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
</span><span id="__span-14-208"><a id="__codelineno-14-208" name="__codelineno-14-208" href="#__codelineno-14-208"></a><span class="w">                            </span><span class="n">cliente</span><span class="p">.</span><span class="na">changeWorkingDirectory</span><span class="p">(</span><span class="n">direcSelec</span><span class="p">);</span>
</span><span id="__span-14-209"><a id="__codelineno-14-209" name="__codelineno-14-209" href="#__codelineno-14-209"></a><span class="w">                            </span><span class="n">FTPFile</span><span class="o">[]</span><span class="w"> </span><span class="n">ff2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cliente</span><span class="p">.</span><span class="na">listFiles</span><span class="p">();</span>
</span><span id="__span-14-210"><a id="__codelineno-14-210" name="__codelineno-14-210" href="#__codelineno-14-210"></a><span class="w">                            </span><span class="n">llenarLista</span><span class="p">(</span><span class="n">ff2</span><span class="p">,</span><span class="w"> </span><span class="n">direcSelec</span><span class="p">);</span><span class="w">                       </span>
</span><span id="__span-14-211"><a id="__codelineno-14-211" name="__codelineno-14-211" href="#__codelineno-14-211"></a>
</span><span id="__span-14-212"><a id="__codelineno-14-212" name="__codelineno-14-212" href="#__codelineno-14-212"></a><span class="w">                        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span>
</span><span id="__span-14-213"><a id="__codelineno-14-213" name="__codelineno-14-213" href="#__codelineno-14-213"></a><span class="w">                            </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showMessageDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">nombreCarpeta</span><span class="p">.</span><span class="na">trim</span><span class="p">()</span>
</span><span id="__span-14-214"><a id="__codelineno-14-214" name="__codelineno-14-214" href="#__codelineno-14-214"></a><span class="w">                                    </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; =&gt; No se ha podido crear ...&quot;</span><span class="p">);</span>
</span><span id="__span-14-215"><a id="__codelineno-14-215" name="__codelineno-14-215" href="#__codelineno-14-215"></a>
</span><span id="__span-14-216"><a id="__codelineno-14-216" name="__codelineno-14-216" href="#__codelineno-14-216"></a><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                      </span>
</span><span id="__span-14-217"><a id="__codelineno-14-217" name="__codelineno-14-217" href="#__codelineno-14-217"></a><span class="w">                        </span><span class="n">e1</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-14-218"><a id="__codelineno-14-218" name="__codelineno-14-218" href="#__codelineno-14-218"></a><span class="w">                    </span><span class="p">}</span>
</span><span id="__span-14-219"><a id="__codelineno-14-219" name="__codelineno-14-219" href="#__codelineno-14-219"></a><span class="w">                </span><span class="p">}</span>
</span><span id="__span-14-220"><a id="__codelineno-14-220" name="__codelineno-14-220" href="#__codelineno-14-220"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-14-221"><a id="__codelineno-14-221" name="__codelineno-14-221" href="#__codelineno-14-221"></a><span class="w">        </span><span class="p">});</span><span class="c1">//..botonCreaDir</span>
</span><span id="__span-14-222"><a id="__codelineno-14-222" name="__codelineno-14-222" href="#__codelineno-14-222"></a><span class="w">        </span><span class="c1">//</span>
</span><span id="__span-14-223"><a id="__codelineno-14-223" name="__codelineno-14-223" href="#__codelineno-14-223"></a><span class="w">        </span><span class="n">botonDelDir</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ActionListener</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-224"><a id="__codelineno-14-224" name="__codelineno-14-224" href="#__codelineno-14-224"></a><span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-225"><a id="__codelineno-14-225" name="__codelineno-14-225" href="#__codelineno-14-225"></a><span class="w">                </span><span class="n">String</span><span class="w"> </span><span class="n">nombreCarpeta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showInputDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span>
</span><span id="__span-14-226"><a id="__codelineno-14-226" name="__codelineno-14-226" href="#__codelineno-14-226"></a><span class="w">                           </span><span class="s">&quot;Introduce el nombre del directorio a eliminar&quot;</span><span class="p">,</span>
</span><span id="__span-14-227"><a id="__codelineno-14-227" name="__codelineno-14-227" href="#__codelineno-14-227"></a><span class="w">                           </span><span class="s">&quot;carpeta&quot;</span><span class="p">);</span><span class="w">  </span>
</span><span id="__span-14-228"><a id="__codelineno-14-228" name="__codelineno-14-228" href="#__codelineno-14-228"></a><span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">nombreCarpeta</span><span class="o">==</span><span class="kc">null</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-229"><a id="__codelineno-14-229" name="__codelineno-14-229" href="#__codelineno-14-229"></a><span class="w">                            </span><span class="n">String</span><span class="w"> </span><span class="n">directorio</span><span class="o">=</span><span class="n">direcSelec</span><span class="p">;</span>
</span><span id="__span-14-230"><a id="__codelineno-14-230" name="__codelineno-14-230" href="#__codelineno-14-230"></a><span class="w">                            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">direcSelec</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">))</span>
</span><span id="__span-14-231"><a id="__codelineno-14-231" name="__codelineno-14-231" href="#__codelineno-14-231"></a><span class="w">                                </span><span class="n">directorio</span><span class="w"> </span><span class="o">=</span><span class="n">directorio</span><span class="w"> </span><span class="o">+</span><span class="s">&quot;/&quot;</span><span class="p">;</span>
</span><span id="__span-14-232"><a id="__codelineno-14-232" name="__codelineno-14-232" href="#__codelineno-14-232"></a><span class="w">                            </span><span class="n">directorio</span><span class="o">+=</span><span class="n">nombreCarpeta</span><span class="p">.</span><span class="na">trim</span><span class="p">()</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-14-233"><a id="__codelineno-14-233" name="__codelineno-14-233" href="#__codelineno-14-233"></a>
</span><span id="__span-14-234"><a id="__codelineno-14-234" name="__codelineno-14-234" href="#__codelineno-14-234"></a><span class="w">                            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-235"><a id="__codelineno-14-235" name="__codelineno-14-235" href="#__codelineno-14-235"></a><span class="w">                                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cliente</span><span class="p">.</span><span class="na">removeDirectory</span><span class="p">(</span><span class="n">directorio</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-236"><a id="__codelineno-14-236" name="__codelineno-14-236" href="#__codelineno-14-236"></a><span class="w">                                    </span><span class="n">String</span><span class="w"> </span><span class="n">m</span><span class="o">=</span><span class="w"> </span><span class="n">nombreCarpeta</span><span class="p">.</span><span class="na">trim</span><span class="p">()</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; =&gt; Se ha eliminado correctamente ...&quot;</span><span class="p">;</span>
</span><span id="__span-14-237"><a id="__codelineno-14-237" name="__codelineno-14-237" href="#__codelineno-14-237"></a><span class="w">                                    </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showMessageDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="p">);</span>
</span><span id="__span-14-238"><a id="__codelineno-14-238" name="__codelineno-14-238" href="#__codelineno-14-238"></a><span class="w">                                    </span><span class="n">campo</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
</span><span id="__span-14-239"><a id="__codelineno-14-239" name="__codelineno-14-239" href="#__codelineno-14-239"></a><span class="w">                                    </span><span class="n">cliente</span><span class="p">.</span><span class="na">changeWorkingDirectory</span><span class="p">(</span><span class="n">direcSelec</span><span class="p">);</span>
</span><span id="__span-14-240"><a id="__codelineno-14-240" name="__codelineno-14-240" href="#__codelineno-14-240"></a><span class="w">                                    </span><span class="n">FTPFile</span><span class="o">[]</span><span class="w"> </span><span class="n">ff2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cliente</span><span class="p">.</span><span class="na">listFiles</span><span class="p">();</span>
</span><span id="__span-14-241"><a id="__codelineno-14-241" name="__codelineno-14-241" href="#__codelineno-14-241"></a><span class="w">                                    </span><span class="n">llenarLista</span><span class="p">(</span><span class="n">ff2</span><span class="p">,</span><span class="w"> </span><span class="n">direcSelec</span><span class="p">);</span><span class="w">                       </span>
</span><span id="__span-14-242"><a id="__codelineno-14-242" name="__codelineno-14-242" href="#__codelineno-14-242"></a>
</span><span id="__span-14-243"><a id="__codelineno-14-243" name="__codelineno-14-243" href="#__codelineno-14-243"></a><span class="w">                                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span>
</span><span id="__span-14-244"><a id="__codelineno-14-244" name="__codelineno-14-244" href="#__codelineno-14-244"></a><span class="w">                                    </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showMessageDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">nombreCarpeta</span><span class="p">.</span><span class="na">trim</span><span class="p">()</span>
</span><span id="__span-14-245"><a id="__codelineno-14-245" name="__codelineno-14-245" href="#__codelineno-14-245"></a><span class="w">                                            </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; =&gt; No se ha podido eliminar ...&quot;</span><span class="p">);</span>
</span><span id="__span-14-246"><a id="__codelineno-14-246" name="__codelineno-14-246" href="#__codelineno-14-246"></a>
</span><span id="__span-14-247"><a id="__codelineno-14-247" name="__codelineno-14-247" href="#__codelineno-14-247"></a><span class="w">                            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                      </span>
</span><span id="__span-14-248"><a id="__codelineno-14-248" name="__codelineno-14-248" href="#__codelineno-14-248"></a><span class="w">                                </span><span class="n">e1</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-14-249"><a id="__codelineno-14-249" name="__codelineno-14-249" href="#__codelineno-14-249"></a><span class="w">                            </span><span class="p">}</span>
</span><span id="__span-14-250"><a id="__codelineno-14-250" name="__codelineno-14-250" href="#__codelineno-14-250"></a><span class="w">                        </span><span class="p">}</span>
</span><span id="__span-14-251"><a id="__codelineno-14-251" name="__codelineno-14-251" href="#__codelineno-14-251"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-14-252"><a id="__codelineno-14-252" name="__codelineno-14-252" href="#__codelineno-14-252"></a><span class="w">        </span><span class="p">});</span><span class="c1">//..botonDelDir</span>
</span><span id="__span-14-253"><a id="__codelineno-14-253" name="__codelineno-14-253" href="#__codelineno-14-253"></a>
</span><span id="__span-14-254"><a id="__codelineno-14-254" name="__codelineno-14-254" href="#__codelineno-14-254"></a><span class="w">        </span><span class="c1">// --al hacer clic en el bot�n Subir</span>
</span><span id="__span-14-255"><a id="__codelineno-14-255" name="__codelineno-14-255" href="#__codelineno-14-255"></a><span class="w">        </span><span class="n">botonCargar</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ActionListener</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-256"><a id="__codelineno-14-256" name="__codelineno-14-256" href="#__codelineno-14-256"></a><span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-257"><a id="__codelineno-14-257" name="__codelineno-14-257" href="#__codelineno-14-257"></a><span class="w">                </span><span class="n">JFileChooser</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JFileChooser</span><span class="p">();</span><span class="w">                </span>
</span><span id="__span-14-258"><a id="__codelineno-14-258" name="__codelineno-14-258" href="#__codelineno-14-258"></a><span class="w">                </span><span class="n">f</span><span class="p">.</span><span class="na">setFileSelectionMode</span><span class="p">(</span><span class="n">JFileChooser</span><span class="p">.</span><span class="na">FILES_ONLY</span><span class="p">);</span>
</span><span id="__span-14-259"><a id="__codelineno-14-259" name="__codelineno-14-259" href="#__codelineno-14-259"></a><span class="w">                </span><span class="n">f</span><span class="p">.</span><span class="na">setDialogTitle</span><span class="p">(</span><span class="s">&quot;Selecciona el Fichero a SUBIR AL SERVIDOR FTP&quot;</span><span class="p">);</span>
</span><span id="__span-14-260"><a id="__codelineno-14-260" name="__codelineno-14-260" href="#__codelineno-14-260"></a><span class="w">                </span><span class="kt">int</span><span class="w"> </span><span class="n">returnVal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">showDialog</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Cargar&quot;</span><span class="p">);</span>
</span><span id="__span-14-261"><a id="__codelineno-14-261" name="__codelineno-14-261" href="#__codelineno-14-261"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">returnVal</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JFileChooser</span><span class="p">.</span><span class="na">APPROVE_OPTION</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-262"><a id="__codelineno-14-262" name="__codelineno-14-262" href="#__codelineno-14-262"></a><span class="w">                    </span><span class="n">File</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">getSelectedFile</span><span class="p">();</span>
</span><span id="__span-14-263"><a id="__codelineno-14-263" name="__codelineno-14-263" href="#__codelineno-14-263"></a><span class="w">                    </span><span class="n">String</span><span class="w"> </span><span class="n">archivo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">file</span><span class="p">.</span><span class="na">getAbsolutePath</span><span class="p">();</span>
</span><span id="__span-14-264"><a id="__codelineno-14-264" name="__codelineno-14-264" href="#__codelineno-14-264"></a><span class="w">                    </span><span class="n">String</span><span class="w"> </span><span class="n">nombreArchivo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">file</span><span class="p">.</span><span class="na">getName</span><span class="p">();</span><span class="w">                  </span>
</span><span id="__span-14-265"><a id="__codelineno-14-265" name="__codelineno-14-265" href="#__codelineno-14-265"></a><span class="w">                    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-266"><a id="__codelineno-14-266" name="__codelineno-14-266" href="#__codelineno-14-266"></a><span class="w">                        </span><span class="n">SubirFichero</span><span class="p">(</span><span class="n">archivo</span><span class="p">,</span><span class="w"> </span><span class="n">nombreArchivo</span><span class="p">);</span>
</span><span id="__span-14-267"><a id="__codelineno-14-267" name="__codelineno-14-267" href="#__codelineno-14-267"></a><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-268"><a id="__codelineno-14-268" name="__codelineno-14-268" href="#__codelineno-14-268"></a><span class="w">                        </span><span class="n">e1</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-14-269"><a id="__codelineno-14-269" name="__codelineno-14-269" href="#__codelineno-14-269"></a><span class="w">                    </span><span class="p">}</span>
</span><span id="__span-14-270"><a id="__codelineno-14-270" name="__codelineno-14-270" href="#__codelineno-14-270"></a><span class="w">                </span><span class="p">}</span>
</span><span id="__span-14-271"><a id="__codelineno-14-271" name="__codelineno-14-271" href="#__codelineno-14-271"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-14-272"><a id="__codelineno-14-272" name="__codelineno-14-272" href="#__codelineno-14-272"></a><span class="w">        </span><span class="p">});</span><span class="c1">// Fin boon subir</span>
</span><span id="__span-14-273"><a id="__codelineno-14-273" name="__codelineno-14-273" href="#__codelineno-14-273"></a>
</span><span id="__span-14-274"><a id="__codelineno-14-274" name="__codelineno-14-274" href="#__codelineno-14-274"></a><span class="w">        </span><span class="c1">// --al hacer clic en el bot�n Descargar</span>
</span><span id="__span-14-275"><a id="__codelineno-14-275" name="__codelineno-14-275" href="#__codelineno-14-275"></a><span class="w">        </span><span class="n">botonDescargar</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ActionListener</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-276"><a id="__codelineno-14-276" name="__codelineno-14-276" href="#__codelineno-14-276"></a><span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-277"><a id="__codelineno-14-277" name="__codelineno-14-277" href="#__codelineno-14-277"></a><span class="w">                </span><span class="n">String</span><span class="w"> </span><span class="n">directorio</span><span class="o">=</span><span class="n">direcSelec</span><span class="p">;</span>
</span><span id="__span-14-278"><a id="__codelineno-14-278" name="__codelineno-14-278" href="#__codelineno-14-278"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">direcSelec</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">))</span>
</span><span id="__span-14-279"><a id="__codelineno-14-279" name="__codelineno-14-279" href="#__codelineno-14-279"></a><span class="w">                    </span><span class="n">directorio</span><span class="w"> </span><span class="o">=</span><span class="n">directorio</span><span class="w"> </span><span class="o">+</span><span class="s">&quot;/&quot;</span><span class="p">;</span>
</span><span id="__span-14-280"><a id="__codelineno-14-280" name="__codelineno-14-280" href="#__codelineno-14-280"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">ficheroSelec</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">))</span>
</span><span id="__span-14-281"><a id="__codelineno-14-281" name="__codelineno-14-281" href="#__codelineno-14-281"></a><span class="w">                </span><span class="p">{</span>
</span><span id="__span-14-282"><a id="__codelineno-14-282" name="__codelineno-14-282" href="#__codelineno-14-282"></a><span class="w">                    </span><span class="n">DescargarFichero</span><span class="p">(</span><span class="n">directorio</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ficheroSelec</span><span class="w"> </span><span class="p">,</span><span class="n">ficheroSelec</span><span class="p">);</span>
</span><span id="__span-14-283"><a id="__codelineno-14-283" name="__codelineno-14-283" href="#__codelineno-14-283"></a><span class="w">                </span><span class="p">}</span>
</span><span id="__span-14-284"><a id="__codelineno-14-284" name="__codelineno-14-284" href="#__codelineno-14-284"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-14-285"><a id="__codelineno-14-285" name="__codelineno-14-285" href="#__codelineno-14-285"></a><span class="w">        </span><span class="p">});</span><span class="c1">// Fin boton descargar</span>
</span><span id="__span-14-286"><a id="__codelineno-14-286" name="__codelineno-14-286" href="#__codelineno-14-286"></a>
</span><span id="__span-14-287"><a id="__codelineno-14-287" name="__codelineno-14-287" href="#__codelineno-14-287"></a><span class="w">        </span><span class="n">botonBorrar</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ActionListener</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-288"><a id="__codelineno-14-288" name="__codelineno-14-288" href="#__codelineno-14-288"></a><span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-289"><a id="__codelineno-14-289" name="__codelineno-14-289" href="#__codelineno-14-289"></a><span class="w">                </span><span class="c1">//System.out.println(&quot;borrar&quot;);</span>
</span><span id="__span-14-290"><a id="__codelineno-14-290" name="__codelineno-14-290" href="#__codelineno-14-290"></a><span class="w">                </span><span class="n">String</span><span class="w"> </span><span class="n">directorio</span><span class="o">=</span><span class="n">direcSelec</span><span class="p">;</span>
</span><span id="__span-14-291"><a id="__codelineno-14-291" name="__codelineno-14-291" href="#__codelineno-14-291"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">direcSelec</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">))</span>
</span><span id="__span-14-292"><a id="__codelineno-14-292" name="__codelineno-14-292" href="#__codelineno-14-292"></a><span class="w">                    </span><span class="n">directorio</span><span class="w"> </span><span class="o">=</span><span class="n">directorio</span><span class="w"> </span><span class="o">+</span><span class="s">&quot;/&quot;</span><span class="p">;</span>
</span><span id="__span-14-293"><a id="__codelineno-14-293" name="__codelineno-14-293" href="#__codelineno-14-293"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">ficheroSelec</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">))</span><span class="w">                </span>
</span><span id="__span-14-294"><a id="__codelineno-14-294" name="__codelineno-14-294" href="#__codelineno-14-294"></a><span class="w">                    </span><span class="n">BorrarFichero</span><span class="p">(</span><span class="n">directorio</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ficheroSelec</span><span class="w"> </span><span class="p">,</span><span class="n">ficheroSelec</span><span class="p">);</span>
</span><span id="__span-14-295"><a id="__codelineno-14-295" name="__codelineno-14-295" href="#__codelineno-14-295"></a>
</span><span id="__span-14-296"><a id="__codelineno-14-296" name="__codelineno-14-296" href="#__codelineno-14-296"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-14-297"><a id="__codelineno-14-297" name="__codelineno-14-297" href="#__codelineno-14-297"></a><span class="w">        </span><span class="p">});</span><span class="c1">//boton borrar</span>
</span><span id="__span-14-298"><a id="__codelineno-14-298" name="__codelineno-14-298" href="#__codelineno-14-298"></a><span class="w">    </span><span class="p">}</span><span class="c1">// ..FIN CONSTRUCTOR</span>
</span><span id="__span-14-299"><a id="__codelineno-14-299" name="__codelineno-14-299" href="#__codelineno-14-299"></a>
</span><span id="__span-14-300"><a id="__codelineno-14-300" name="__codelineno-14-300" href="#__codelineno-14-300"></a><span class="w">    </span><span class="c1">// -----------------------------------------------------------------------------</span>
</span><span id="__span-14-301"><a id="__codelineno-14-301" name="__codelineno-14-301" href="#__codelineno-14-301"></a>
</span><span id="__span-14-302"><a id="__codelineno-14-302" name="__codelineno-14-302" href="#__codelineno-14-302"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">llenarLista</span><span class="p">(</span><span class="n">FTPFile</span><span class="o">[]</span><span class="w"> </span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">direc2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-303"><a id="__codelineno-14-303" name="__codelineno-14-303" href="#__codelineno-14-303"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">files</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w">  </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-14-304"><a id="__codelineno-14-304" name="__codelineno-14-304" href="#__codelineno-14-304"></a><span class="w">        </span><span class="n">DefaultListModel</span><span class="w"> </span><span class="n">modeloLista</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DefaultListModel</span><span class="p">();</span>
</span><span id="__span-14-305"><a id="__codelineno-14-305" name="__codelineno-14-305" href="#__codelineno-14-305"></a>
</span><span id="__span-14-306"><a id="__codelineno-14-306" name="__codelineno-14-306" href="#__codelineno-14-306"></a><span class="w">        </span><span class="n">listaDirec</span><span class="p">.</span><span class="na">setForeground</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">blue</span><span class="p">);</span>
</span><span id="__span-14-307"><a id="__codelineno-14-307" name="__codelineno-14-307" href="#__codelineno-14-307"></a><span class="w">        </span><span class="n">Font</span><span class="w"> </span><span class="n">fuente</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Font</span><span class="p">(</span><span class="s">&quot;Courier&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Font</span><span class="p">.</span><span class="na">PLAIN</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">);</span>
</span><span id="__span-14-308"><a id="__codelineno-14-308" name="__codelineno-14-308" href="#__codelineno-14-308"></a><span class="w">        </span><span class="n">listaDirec</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="n">fuente</span><span class="p">);</span><span class="w">     </span>
</span><span id="__span-14-309"><a id="__codelineno-14-309" name="__codelineno-14-309" href="#__codelineno-14-309"></a><span class="w">        </span><span class="n">listaDirec</span><span class="p">.</span><span class="na">removeAll</span><span class="p">();</span>
</span><span id="__span-14-310"><a id="__codelineno-14-310" name="__codelineno-14-310" href="#__codelineno-14-310"></a>
</span><span id="__span-14-311"><a id="__codelineno-14-311" name="__codelineno-14-311" href="#__codelineno-14-311"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-312"><a id="__codelineno-14-312" name="__codelineno-14-312" href="#__codelineno-14-312"></a><span class="w">            </span><span class="n">cliente</span><span class="p">.</span><span class="na">changeWorkingDirectory</span><span class="p">(</span><span class="n">direc2</span><span class="p">);</span>
</span><span id="__span-14-313"><a id="__codelineno-14-313" name="__codelineno-14-313" href="#__codelineno-14-313"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-314"><a id="__codelineno-14-314" name="__codelineno-14-314" href="#__codelineno-14-314"></a><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-14-315"><a id="__codelineno-14-315" name="__codelineno-14-315" href="#__codelineno-14-315"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-14-316"><a id="__codelineno-14-316" name="__codelineno-14-316" href="#__codelineno-14-316"></a><span class="w">        </span><span class="n">direcSelec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">direc2</span><span class="p">;</span>
</span><span id="__span-14-317"><a id="__codelineno-14-317" name="__codelineno-14-317" href="#__codelineno-14-317"></a><span class="w">        </span><span class="n">modeloLista</span><span class="p">.</span><span class="na">addElement</span><span class="p">(</span><span class="n">direc2</span><span class="p">);</span>
</span><span id="__span-14-318"><a id="__codelineno-14-318" name="__codelineno-14-318" href="#__codelineno-14-318"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">files</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-319"><a id="__codelineno-14-319" name="__codelineno-14-319" href="#__codelineno-14-319"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">files</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="na">getName</span><span class="p">()).</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">)</span>
</span><span id="__span-14-320"><a id="__codelineno-14-320" name="__codelineno-14-320" href="#__codelineno-14-320"></a><span class="w">                    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="p">(</span><span class="n">files</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="na">getName</span><span class="p">()).</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;..&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-321"><a id="__codelineno-14-321" name="__codelineno-14-321" href="#__codelineno-14-321"></a><span class="w">                </span><span class="n">String</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">files</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="na">getName</span><span class="p">();</span><span class="w">              </span>
</span><span id="__span-14-322"><a id="__codelineno-14-322" name="__codelineno-14-322" href="#__codelineno-14-322"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">files</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="na">isDirectory</span><span class="p">())</span><span class="w"> </span>
</span><span id="__span-14-323"><a id="__codelineno-14-323" name="__codelineno-14-323" href="#__codelineno-14-323"></a><span class="w">                    </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;(DIR) &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">f</span><span class="p">;</span><span class="w">               </span>
</span><span id="__span-14-324"><a id="__codelineno-14-324" name="__codelineno-14-324" href="#__codelineno-14-324"></a><span class="w">                </span><span class="n">modeloLista</span><span class="p">.</span><span class="na">addElement</span><span class="p">(</span><span class="n">f</span><span class="p">);</span><span class="w">              </span>
</span><span id="__span-14-325"><a id="__codelineno-14-325" name="__codelineno-14-325" href="#__codelineno-14-325"></a><span class="w">            </span><span class="p">}</span><span class="c1">//if</span>
</span><span id="__span-14-326"><a id="__codelineno-14-326" name="__codelineno-14-326" href="#__codelineno-14-326"></a><span class="w">        </span><span class="p">}</span><span class="c1">// fin for</span>
</span><span id="__span-14-327"><a id="__codelineno-14-327" name="__codelineno-14-327" href="#__codelineno-14-327"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">   </span>
</span><span id="__span-14-328"><a id="__codelineno-14-328" name="__codelineno-14-328" href="#__codelineno-14-328"></a><span class="w">            </span><span class="n">listaDirec</span><span class="p">.</span><span class="na">setModel</span><span class="p">(</span><span class="n">modeloLista</span><span class="p">);</span><span class="w">       </span>
</span><span id="__span-14-329"><a id="__codelineno-14-329" name="__codelineno-14-329" href="#__codelineno-14-329"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">NullPointerException</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-330"><a id="__codelineno-14-330" name="__codelineno-14-330" href="#__codelineno-14-330"></a><span class="w">            </span><span class="c1">//Al llegar al �ltimo aparece excepcion</span>
</span><span id="__span-14-331"><a id="__codelineno-14-331" name="__codelineno-14-331" href="#__codelineno-14-331"></a><span class="w">            </span><span class="p">;</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;linea 334 - llega al ultimo&quot;</span><span class="p">);</span>
</span><span id="__span-14-332"><a id="__codelineno-14-332" name="__codelineno-14-332" href="#__codelineno-14-332"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-14-333"><a id="__codelineno-14-333" name="__codelineno-14-333" href="#__codelineno-14-333"></a><span class="w">    </span><span class="p">}</span><span class="c1">//Fin llenarLista</span>
</span><span id="__span-14-334"><a id="__codelineno-14-334" name="__codelineno-14-334" href="#__codelineno-14-334"></a>
</span><span id="__span-14-335"><a id="__codelineno-14-335" name="__codelineno-14-335" href="#__codelineno-14-335"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">DescargarFichero</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">NombreCompleto</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">nombreFichero</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-336"><a id="__codelineno-14-336" name="__codelineno-14-336" href="#__codelineno-14-336"></a>
</span><span id="__span-14-337"><a id="__codelineno-14-337" name="__codelineno-14-337" href="#__codelineno-14-337"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">archivoyCarpetaDestino</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
</span><span id="__span-14-338"><a id="__codelineno-14-338" name="__codelineno-14-338" href="#__codelineno-14-338"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">carpetaDestino</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
</span><span id="__span-14-339"><a id="__codelineno-14-339" name="__codelineno-14-339" href="#__codelineno-14-339"></a><span class="w">        </span><span class="n">JFileChooser</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JFileChooser</span><span class="p">();</span>
</span><span id="__span-14-340"><a id="__codelineno-14-340" name="__codelineno-14-340" href="#__codelineno-14-340"></a><span class="w">        </span><span class="n">f</span><span class="p">.</span><span class="na">setFileSelectionMode</span><span class="p">(</span><span class="n">JFileChooser</span><span class="p">.</span><span class="na">DIRECTORIES_ONLY</span><span class="p">);</span>
</span><span id="__span-14-341"><a id="__codelineno-14-341" name="__codelineno-14-341" href="#__codelineno-14-341"></a><span class="w">        </span><span class="n">f</span><span class="p">.</span><span class="na">setDialogTitle</span><span class="p">(</span><span class="s">&quot;Selecciona el Directorio donde DESCARGAR el fichero&quot;</span><span class="p">);</span>
</span><span id="__span-14-342"><a id="__codelineno-14-342" name="__codelineno-14-342" href="#__codelineno-14-342"></a>
</span><span id="__span-14-343"><a id="__codelineno-14-343" name="__codelineno-14-343" href="#__codelineno-14-343"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">returnVal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">showDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Descargar&quot;</span><span class="p">);</span>
</span><span id="__span-14-344"><a id="__codelineno-14-344" name="__codelineno-14-344" href="#__codelineno-14-344"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">returnVal</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JFileChooser</span><span class="p">.</span><span class="na">APPROVE_OPTION</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-345"><a id="__codelineno-14-345" name="__codelineno-14-345" href="#__codelineno-14-345"></a><span class="w">            </span><span class="n">File</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">getSelectedFile</span><span class="p">();</span>
</span><span id="__span-14-346"><a id="__codelineno-14-346" name="__codelineno-14-346" href="#__codelineno-14-346"></a>
</span><span id="__span-14-347"><a id="__codelineno-14-347" name="__codelineno-14-347" href="#__codelineno-14-347"></a><span class="w">            </span><span class="n">carpetaDestino</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="na">getAbsolutePath</span><span class="p">()).</span><span class="na">toString</span><span class="p">();</span>
</span><span id="__span-14-348"><a id="__codelineno-14-348" name="__codelineno-14-348" href="#__codelineno-14-348"></a><span class="w">            </span><span class="c1">//System.out.println(&quot;carpeta destino &quot; + carpetaDestino);</span>
</span><span id="__span-14-349"><a id="__codelineno-14-349" name="__codelineno-14-349" href="#__codelineno-14-349"></a><span class="w">            </span><span class="n">archivoyCarpetaDestino</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">carpetaDestino</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">File</span><span class="p">.</span><span class="na">separator</span>
</span><span id="__span-14-350"><a id="__codelineno-14-350" name="__codelineno-14-350" href="#__codelineno-14-350"></a><span class="w">                    </span><span class="o">+</span><span class="w"> </span><span class="n">nombreFichero</span><span class="p">;</span>
</span><span id="__span-14-351"><a id="__codelineno-14-351" name="__codelineno-14-351" href="#__codelineno-14-351"></a>
</span><span id="__span-14-352"><a id="__codelineno-14-352" name="__codelineno-14-352" href="#__codelineno-14-352"></a>
</span><span id="__span-14-353"><a id="__codelineno-14-353" name="__codelineno-14-353" href="#__codelineno-14-353"></a><span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-354"><a id="__codelineno-14-354" name="__codelineno-14-354" href="#__codelineno-14-354"></a><span class="w">                </span><span class="n">cliente</span><span class="p">.</span><span class="na">setFileType</span><span class="p">(</span><span class="n">FTP</span><span class="p">.</span><span class="na">BINARY_FILE_TYPE</span><span class="p">);</span>
</span><span id="__span-14-355"><a id="__codelineno-14-355" name="__codelineno-14-355" href="#__codelineno-14-355"></a><span class="w">                </span><span class="n">BufferedOutputStream</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-14-356"><a id="__codelineno-14-356" name="__codelineno-14-356" href="#__codelineno-14-356"></a><span class="w">                </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedOutputStream</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">FileOutputStream</span><span class="p">(</span>
</span><span id="__span-14-357"><a id="__codelineno-14-357" name="__codelineno-14-357" href="#__codelineno-14-357"></a><span class="w">                        </span><span class="n">archivoyCarpetaDestino</span><span class="p">));</span>
</span><span id="__span-14-358"><a id="__codelineno-14-358" name="__codelineno-14-358" href="#__codelineno-14-358"></a>
</span><span id="__span-14-359"><a id="__codelineno-14-359" name="__codelineno-14-359" href="#__codelineno-14-359"></a>
</span><span id="__span-14-360"><a id="__codelineno-14-360" name="__codelineno-14-360" href="#__codelineno-14-360"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cliente</span><span class="p">.</span><span class="na">retrieveFile</span><span class="p">(</span><span class="n">NombreCompleto</span><span class="p">,</span><span class="w"> </span><span class="n">out</span><span class="p">))</span><span class="w"> </span>
</span><span id="__span-14-361"><a id="__codelineno-14-361" name="__codelineno-14-361" href="#__codelineno-14-361"></a><span class="w">                    </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showMessageDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">nombreFichero</span>
</span><span id="__span-14-362"><a id="__codelineno-14-362" name="__codelineno-14-362" href="#__codelineno-14-362"></a><span class="w">                            </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; =&gt; Se ha descargado correctamente ...&quot;</span><span class="p">);</span>
</span><span id="__span-14-363"><a id="__codelineno-14-363" name="__codelineno-14-363" href="#__codelineno-14-363"></a><span class="w">                 </span><span class="k">else</span>
</span><span id="__span-14-364"><a id="__codelineno-14-364" name="__codelineno-14-364" href="#__codelineno-14-364"></a><span class="w">                    </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showMessageDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">nombreFichero</span>
</span><span id="__span-14-365"><a id="__codelineno-14-365" name="__codelineno-14-365" href="#__codelineno-14-365"></a><span class="w">                            </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; =&gt; No se ha podido descargar ...&quot;</span><span class="p">);</span>
</span><span id="__span-14-366"><a id="__codelineno-14-366" name="__codelineno-14-366" href="#__codelineno-14-366"></a>
</span><span id="__span-14-367"><a id="__codelineno-14-367" name="__codelineno-14-367" href="#__codelineno-14-367"></a><span class="w">                </span><span class="n">out</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</span><span id="__span-14-368"><a id="__codelineno-14-368" name="__codelineno-14-368" href="#__codelineno-14-368"></a><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-369"><a id="__codelineno-14-369" name="__codelineno-14-369" href="#__codelineno-14-369"></a><span class="w">                </span><span class="n">e1</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-14-370"><a id="__codelineno-14-370" name="__codelineno-14-370" href="#__codelineno-14-370"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-14-371"><a id="__codelineno-14-371" name="__codelineno-14-371" href="#__codelineno-14-371"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-14-372"><a id="__codelineno-14-372" name="__codelineno-14-372" href="#__codelineno-14-372"></a><span class="w">    </span><span class="p">}</span><span class="c1">// ..DescargarFichero</span>
</span><span id="__span-14-373"><a id="__codelineno-14-373" name="__codelineno-14-373" href="#__codelineno-14-373"></a>
</span><span id="__span-14-374"><a id="__codelineno-14-374" name="__codelineno-14-374" href="#__codelineno-14-374"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">BorrarFichero</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">NombreCompleto</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">nombreFichero</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-375"><a id="__codelineno-14-375" name="__codelineno-14-375" href="#__codelineno-14-375"></a><span class="w">        </span><span class="c1">//pide confirmacion</span>
</span><span id="__span-14-376"><a id="__codelineno-14-376" name="__codelineno-14-376" href="#__codelineno-14-376"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">seleccion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showConfirmDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span>
</span><span id="__span-14-377"><a id="__codelineno-14-377" name="__codelineno-14-377" href="#__codelineno-14-377"></a><span class="w">                </span><span class="s">&quot;�Desea eliminar el fichero seleccionado?&quot;</span><span class="p">);</span>
</span><span id="__span-14-378"><a id="__codelineno-14-378" name="__codelineno-14-378" href="#__codelineno-14-378"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">seleccion</span><span class="o">==</span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">OK_OPTION</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-379"><a id="__codelineno-14-379" name="__codelineno-14-379" href="#__codelineno-14-379"></a><span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">                                                </span>
</span><span id="__span-14-380"><a id="__codelineno-14-380" name="__codelineno-14-380" href="#__codelineno-14-380"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cliente</span><span class="p">.</span><span class="na">deleteFile</span><span class="w"> </span><span class="p">(</span><span class="n">NombreCompleto</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-381"><a id="__codelineno-14-381" name="__codelineno-14-381" href="#__codelineno-14-381"></a><span class="w">                    </span><span class="n">String</span><span class="w"> </span><span class="n">m</span><span class="o">=</span><span class="w"> </span><span class="n">nombreFichero</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; =&gt; Eliminado correctamente... &quot;</span><span class="p">;</span>
</span><span id="__span-14-382"><a id="__codelineno-14-382" name="__codelineno-14-382" href="#__codelineno-14-382"></a><span class="w">                    </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showMessageDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="p">);</span>
</span><span id="__span-14-383"><a id="__codelineno-14-383" name="__codelineno-14-383" href="#__codelineno-14-383"></a><span class="w">                    </span><span class="n">campo</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
</span><span id="__span-14-384"><a id="__codelineno-14-384" name="__codelineno-14-384" href="#__codelineno-14-384"></a><span class="w">                    </span><span class="n">cliente</span><span class="p">.</span><span class="na">changeWorkingDirectory</span><span class="p">(</span><span class="n">direcSelec</span><span class="p">);</span>
</span><span id="__span-14-385"><a id="__codelineno-14-385" name="__codelineno-14-385" href="#__codelineno-14-385"></a><span class="w">                    </span><span class="n">FTPFile</span><span class="o">[]</span><span class="w"> </span><span class="n">ff2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cliente</span><span class="p">.</span><span class="na">listFiles</span><span class="p">();</span>
</span><span id="__span-14-386"><a id="__codelineno-14-386" name="__codelineno-14-386" href="#__codelineno-14-386"></a><span class="w">                    </span><span class="n">llenarLista</span><span class="p">(</span><span class="n">ff2</span><span class="p">,</span><span class="w"> </span><span class="n">direcSelec</span><span class="p">);</span><span class="w">   </span>
</span><span id="__span-14-387"><a id="__codelineno-14-387" name="__codelineno-14-387" href="#__codelineno-14-387"></a><span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span>
</span><span id="__span-14-388"><a id="__codelineno-14-388" name="__codelineno-14-388" href="#__codelineno-14-388"></a><span class="w">                    </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showMessageDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">nombreFichero</span>
</span><span id="__span-14-389"><a id="__codelineno-14-389" name="__codelineno-14-389" href="#__codelineno-14-389"></a><span class="w">                            </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; =&gt; No se ha podido eliminar ...&quot;</span><span class="p">);</span>
</span><span id="__span-14-390"><a id="__codelineno-14-390" name="__codelineno-14-390" href="#__codelineno-14-390"></a>
</span><span id="__span-14-391"><a id="__codelineno-14-391" name="__codelineno-14-391" href="#__codelineno-14-391"></a><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-392"><a id="__codelineno-14-392" name="__codelineno-14-392" href="#__codelineno-14-392"></a><span class="w">                </span><span class="n">e1</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-14-393"><a id="__codelineno-14-393" name="__codelineno-14-393" href="#__codelineno-14-393"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-14-394"><a id="__codelineno-14-394" name="__codelineno-14-394" href="#__codelineno-14-394"></a><span class="w">        </span><span class="p">}</span><span class="w">       </span>
</span><span id="__span-14-395"><a id="__codelineno-14-395" name="__codelineno-14-395" href="#__codelineno-14-395"></a><span class="w">    </span><span class="p">}</span><span class="c1">// ..BorrarFichero</span>
</span><span id="__span-14-396"><a id="__codelineno-14-396" name="__codelineno-14-396" href="#__codelineno-14-396"></a><span class="w">    </span><span class="c1">// -------------------------------------------------------------------------</span>
</span><span id="__span-14-397"><a id="__codelineno-14-397" name="__codelineno-14-397" href="#__codelineno-14-397"></a><span class="w">    </span><span class="kd">private</span><span class="w">  </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">SubirFichero</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">archivo</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">nombreArchivo</span><span class="p">)</span>
</span><span id="__span-14-398"><a id="__codelineno-14-398" name="__codelineno-14-398" href="#__codelineno-14-398"></a><span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-399"><a id="__codelineno-14-399" name="__codelineno-14-399" href="#__codelineno-14-399"></a>
</span><span id="__span-14-400"><a id="__codelineno-14-400" name="__codelineno-14-400" href="#__codelineno-14-400"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Archivo : &quot;</span><span class="w"> </span><span class="o">+</span><span class="n">archivo</span><span class="p">);</span>
</span><span id="__span-14-401"><a id="__codelineno-14-401" name="__codelineno-14-401" href="#__codelineno-14-401"></a>
</span><span id="__span-14-402"><a id="__codelineno-14-402" name="__codelineno-14-402" href="#__codelineno-14-402"></a><span class="w">        </span><span class="n">cliente</span><span class="p">.</span><span class="na">setFileType</span><span class="p">(</span><span class="n">FTP</span><span class="p">.</span><span class="na">BINARY_FILE_TYPE</span><span class="p">);</span>
</span><span id="__span-14-403"><a id="__codelineno-14-403" name="__codelineno-14-403" href="#__codelineno-14-403"></a><span class="w">        </span><span class="n">BufferedInputStream</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedInputStream</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">FileInputStream</span><span class="p">(</span>
</span><span id="__span-14-404"><a id="__codelineno-14-404" name="__codelineno-14-404" href="#__codelineno-14-404"></a><span class="w">                </span><span class="n">archivo</span><span class="p">));</span>
</span><span id="__span-14-405"><a id="__codelineno-14-405" name="__codelineno-14-405" href="#__codelineno-14-405"></a><span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="__span-14-406"><a id="__codelineno-14-406" name="__codelineno-14-406" href="#__codelineno-14-406"></a><span class="w">        </span><span class="c1">// System.out.println(&quot;Directorio =&gt; &quot; +direcSelec);</span>
</span><span id="__span-14-407"><a id="__codelineno-14-407" name="__codelineno-14-407" href="#__codelineno-14-407"></a><span class="w">        </span><span class="n">cliente</span><span class="p">.</span><span class="na">changeWorkingDirectory</span><span class="p">(</span><span class="n">direcSelec</span><span class="p">);</span>
</span><span id="__span-14-408"><a id="__codelineno-14-408" name="__codelineno-14-408" href="#__codelineno-14-408"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cliente</span><span class="p">.</span><span class="na">storeFile</span><span class="p">(</span><span class="n">nombreArchivo</span><span class="p">,</span><span class="w"> </span><span class="n">in</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-409"><a id="__codelineno-14-409" name="__codelineno-14-409" href="#__codelineno-14-409"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;  &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">nombreArchivo</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; =&gt; Subido correctamente... &quot;</span><span class="p">;</span>
</span><span id="__span-14-410"><a id="__codelineno-14-410" name="__codelineno-14-410" href="#__codelineno-14-410"></a><span class="w">            </span><span class="n">campo</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span><span id="__span-14-411"><a id="__codelineno-14-411" name="__codelineno-14-411" href="#__codelineno-14-411"></a><span class="w">            </span><span class="n">campo2</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;Se va a actualizar el �rbol de directorios...&quot;</span><span class="p">);</span>
</span><span id="__span-14-412"><a id="__codelineno-14-412" name="__codelineno-14-412" href="#__codelineno-14-412"></a><span class="w">            </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showMessageDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">);</span>
</span><span id="__span-14-413"><a id="__codelineno-14-413" name="__codelineno-14-413" href="#__codelineno-14-413"></a><span class="w">            </span><span class="n">FTPFile</span><span class="o">[]</span><span class="w"> </span><span class="n">ff2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cliente</span><span class="p">.</span><span class="na">listFiles</span><span class="p">();</span>
</span><span id="__span-14-414"><a id="__codelineno-14-414" name="__codelineno-14-414" href="#__codelineno-14-414"></a><span class="w">            </span><span class="n">llenarLista</span><span class="p">(</span><span class="n">ff2</span><span class="p">,</span><span class="w"> </span><span class="n">direcSelec</span><span class="p">);</span><span class="w">               </span>
</span><span id="__span-14-415"><a id="__codelineno-14-415" name="__codelineno-14-415" href="#__codelineno-14-415"></a><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="__span-14-416"><a id="__codelineno-14-416" name="__codelineno-14-416" href="#__codelineno-14-416"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span>
</span><span id="__span-14-417"><a id="__codelineno-14-417" name="__codelineno-14-417" href="#__codelineno-14-417"></a><span class="w">            </span><span class="n">campo</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;No se ha podido subir... &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">nombreArchivo</span><span class="p">);</span>
</span><span id="__span-14-418"><a id="__codelineno-14-418" name="__codelineno-14-418" href="#__codelineno-14-418"></a>
</span><span id="__span-14-419"><a id="__codelineno-14-419" name="__codelineno-14-419" href="#__codelineno-14-419"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
</span><span id="__span-14-420"><a id="__codelineno-14-420" name="__codelineno-14-420" href="#__codelineno-14-420"></a><span class="w">    </span><span class="p">}</span><span class="c1">// SubirFichero</span>
</span><span id="__span-14-421"><a id="__codelineno-14-421" name="__codelineno-14-421" href="#__codelineno-14-421"></a>
</span><span id="__span-14-422"><a id="__codelineno-14-422" name="__codelineno-14-422" href="#__codelineno-14-422"></a><span class="w">    </span><span class="c1">// main---------------------------------------------------------------------</span>
</span><span id="__span-14-423"><a id="__codelineno-14-423" name="__codelineno-14-423" href="#__codelineno-14-423"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-424"><a id="__codelineno-14-424" name="__codelineno-14-424" href="#__codelineno-14-424"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">clienteFTPBasico</span><span class="p">();</span>
</span><span id="__span-14-425"><a id="__codelineno-14-425" name="__codelineno-14-425" href="#__codelineno-14-425"></a><span class="w">    </span><span class="p">}</span><span class="c1">// ..FIN main</span>
</span><span id="__span-14-426"><a id="__codelineno-14-426" name="__codelineno-14-426" href="#__codelineno-14-426"></a>
</span><span id="__span-14-427"><a id="__codelineno-14-427" name="__codelineno-14-427" href="#__codelineno-14-427"></a><span class="p">}</span><span class="c1">// .fin clase</span>
</span></code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2025 José María Pérez Puentes - Licencia CC BY-NC-SA 4.0
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>