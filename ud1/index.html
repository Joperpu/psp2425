
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://joperpu.github.io/psp2425/ud1/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../pr1.1/">
      
      
      <link rel="icon" href="../assets/images/logo.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.5">
    
    
      
        <title>Teoría UD1 - Programación de servicios y procesos</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unidad-1-programacion-multiproceso" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Programación de servicios y procesos" class="md-header__button md-logo" aria-label="Programación de servicios y procesos" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Programación de servicios y procesos
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Teoría UD1
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Programación de servicios y procesos" class="md-nav__button md-logo" aria-label="Programación de servicios y procesos" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    Programación de servicios y procesos
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Página principal
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD1 - Programación multiproceso
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            UD1 - Programación multiproceso
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Teoría UD1
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Teoría UD1
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ide" class="md-nav__link">
    <span class="md-ellipsis">
      IDE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios-de-repaso-de-programacion-en-java" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicios de repaso de programación en Java
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicios de repaso de programación en Java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#calculadora-basica" class="md-nav__link">
    <span class="md-ellipsis">
      Calculadora básica
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-de-estudiantes" class="md-nav__link">
    <span class="md-ellipsis">
      Gestión de estudiantes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#juego-del-ahorcado" class="md-nav__link">
    <span class="md-ellipsis">
      Juego del ahorcado
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificador-de-palindromos" class="md-nav__link">
    <span class="md-ellipsis">
      Verificador de palíndromos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programas-procesos-y-servicios" class="md-nav__link">
    <span class="md-ellipsis">
      Programas, procesos y servicios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Programas, procesos y servicios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#programa" class="md-nav__link">
    <span class="md-ellipsis">
      Programa
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proceso" class="md-nav__link">
    <span class="md-ellipsis">
      Proceso
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#servicio" class="md-nav__link">
    <span class="md-ellipsis">
      Servicio
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#planificacion-de-procesos" class="md-nav__link">
    <span class="md-ellipsis">
      Planificación de procesos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multitarea" class="md-nav__link">
    <span class="md-ellipsis">
      Multitarea
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Multitarea">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejecucion-de-procesos-en-un-sistema-multiprocesador" class="md-nav__link">
    <span class="md-ellipsis">
      Ejecución de procesos en un sistema multiprocesador
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejecucion-de-procesos-con-multitarea-con-operaciones-de-es" class="md-nav__link">
    <span class="md-ellipsis">
      Ejecución de procesos con multitarea, con operaciones de E/S
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hilos-y-procesos" class="md-nav__link">
    <span class="md-ellipsis">
      Hilos y procesos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programacion-concurrente" class="md-nav__link">
    <span class="md-ellipsis">
      Programación concurrente
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Programación concurrente">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ventajas" class="md-nav__link">
    <span class="md-ellipsis">
      Ventajas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inconvenientes" class="md-nav__link">
    <span class="md-ellipsis">
      Inconvenientes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programacion-paralela-y-distribuida" class="md-nav__link">
    <span class="md-ellipsis">
      Programación paralela y distribuida
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estados-de-un-proceso" class="md-nav__link">
    <span class="md-ellipsis">
      Estados de un proceso
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comunicacion-entre-procesos" class="md-nav__link">
    <span class="md-ellipsis">
      Comunicación entre procesos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sincronizacion-entre-procesos" class="md-nav__link">
    <span class="md-ellipsis">
      Sincronización entre procesos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programacion-de-aplicaciones-multiproceso-en-java" class="md-nav__link">
    <span class="md-ellipsis">
      Programación de aplicaciones multiproceso en Java
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Programación de aplicaciones multiproceso en Java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metodos-de-la-clase-javalangprocess" class="md-nav__link">
    <span class="md-ellipsis">
      Métodos de la clase java.lang.Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodos-de-la-clase-javalangprocessbuilder" class="md-nav__link">
    <span class="md-ellipsis">
      Métodos de la clase java.lang.ProcessBuilder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gestion-de-la-es-de-un-proceso" class="md-nav__link">
    <span class="md-ellipsis">
      Gestión de la E/S de un proceso
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gestión de la E/S de un proceso">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getinputstream" class="md-nav__link">
    <span class="md-ellipsis">
      getInputStream()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geterrorstream" class="md-nav__link">
    <span class="md-ellipsis">
      getErrorStream()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getoutputstream" class="md-nav__link">
    <span class="md-ellipsis">
      getOutputStream()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-resuelto-de-comunicacion-entre-procesos" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio resuelto de comunicación entre procesos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicio resuelto de comunicación entre procesos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frecuenciajava" class="md-nav__link">
    <span class="md-ellipsis">
      Frecuencia.java
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lanzadorjava" class="md-nav__link">
    <span class="md-ellipsis">
      Lanzador.java
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redireccion-de-la-es" class="md-nav__link">
    <span class="md-ellipsis">
      Redirección de la E/S
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Redirección de la E/S">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-resuelto-de-redireccion-de-la-salida-de-un-proceso-a-un-fichero-de-texto" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio resuelto de redirección de la salida de un proceso a un fichero de texto
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicio resuelto de redirección de la salida de un proceso a un fichero de texto">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiprocessappjava" class="md-nav__link">
    <span class="md-ellipsis">
      MultiProcessApp.java
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr1.1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 1.1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr1.2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 1.2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD2 - Programación multihilo
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            UD2 - Programación multihilo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teoría UD2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr2.1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 2.1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr2.2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 2.2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr2.3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 2.3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr2.4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 2.4
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD3 - Programación de mecanismos de comunicación en red con sockets
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            UD3 - Programación de mecanismos de comunicación en red con sockets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teoría UD3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr3.1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 3.1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr3.2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 3.2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD4 - Generación de servicios en red
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            UD4 - Generación de servicios en red
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teoría UD4
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr4.1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 4.1
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD5 - Técnicas de programación seguras
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            UD5 - Técnicas de programación seguras
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teoría UD5
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr5.1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 5.1
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ide" class="md-nav__link">
    <span class="md-ellipsis">
      IDE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios-de-repaso-de-programacion-en-java" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicios de repaso de programación en Java
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicios de repaso de programación en Java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#calculadora-basica" class="md-nav__link">
    <span class="md-ellipsis">
      Calculadora básica
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-de-estudiantes" class="md-nav__link">
    <span class="md-ellipsis">
      Gestión de estudiantes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#juego-del-ahorcado" class="md-nav__link">
    <span class="md-ellipsis">
      Juego del ahorcado
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificador-de-palindromos" class="md-nav__link">
    <span class="md-ellipsis">
      Verificador de palíndromos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programas-procesos-y-servicios" class="md-nav__link">
    <span class="md-ellipsis">
      Programas, procesos y servicios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Programas, procesos y servicios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#programa" class="md-nav__link">
    <span class="md-ellipsis">
      Programa
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proceso" class="md-nav__link">
    <span class="md-ellipsis">
      Proceso
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#servicio" class="md-nav__link">
    <span class="md-ellipsis">
      Servicio
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#planificacion-de-procesos" class="md-nav__link">
    <span class="md-ellipsis">
      Planificación de procesos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multitarea" class="md-nav__link">
    <span class="md-ellipsis">
      Multitarea
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Multitarea">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejecucion-de-procesos-en-un-sistema-multiprocesador" class="md-nav__link">
    <span class="md-ellipsis">
      Ejecución de procesos en un sistema multiprocesador
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejecucion-de-procesos-con-multitarea-con-operaciones-de-es" class="md-nav__link">
    <span class="md-ellipsis">
      Ejecución de procesos con multitarea, con operaciones de E/S
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hilos-y-procesos" class="md-nav__link">
    <span class="md-ellipsis">
      Hilos y procesos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programacion-concurrente" class="md-nav__link">
    <span class="md-ellipsis">
      Programación concurrente
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Programación concurrente">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ventajas" class="md-nav__link">
    <span class="md-ellipsis">
      Ventajas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inconvenientes" class="md-nav__link">
    <span class="md-ellipsis">
      Inconvenientes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programacion-paralela-y-distribuida" class="md-nav__link">
    <span class="md-ellipsis">
      Programación paralela y distribuida
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estados-de-un-proceso" class="md-nav__link">
    <span class="md-ellipsis">
      Estados de un proceso
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comunicacion-entre-procesos" class="md-nav__link">
    <span class="md-ellipsis">
      Comunicación entre procesos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sincronizacion-entre-procesos" class="md-nav__link">
    <span class="md-ellipsis">
      Sincronización entre procesos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programacion-de-aplicaciones-multiproceso-en-java" class="md-nav__link">
    <span class="md-ellipsis">
      Programación de aplicaciones multiproceso en Java
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Programación de aplicaciones multiproceso en Java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metodos-de-la-clase-javalangprocess" class="md-nav__link">
    <span class="md-ellipsis">
      Métodos de la clase java.lang.Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodos-de-la-clase-javalangprocessbuilder" class="md-nav__link">
    <span class="md-ellipsis">
      Métodos de la clase java.lang.ProcessBuilder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gestion-de-la-es-de-un-proceso" class="md-nav__link">
    <span class="md-ellipsis">
      Gestión de la E/S de un proceso
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gestión de la E/S de un proceso">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getinputstream" class="md-nav__link">
    <span class="md-ellipsis">
      getInputStream()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geterrorstream" class="md-nav__link">
    <span class="md-ellipsis">
      getErrorStream()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getoutputstream" class="md-nav__link">
    <span class="md-ellipsis">
      getOutputStream()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-resuelto-de-comunicacion-entre-procesos" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio resuelto de comunicación entre procesos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicio resuelto de comunicación entre procesos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frecuenciajava" class="md-nav__link">
    <span class="md-ellipsis">
      Frecuencia.java
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lanzadorjava" class="md-nav__link">
    <span class="md-ellipsis">
      Lanzador.java
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redireccion-de-la-es" class="md-nav__link">
    <span class="md-ellipsis">
      Redirección de la E/S
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Redirección de la E/S">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-resuelto-de-redireccion-de-la-salida-de-un-proceso-a-un-fichero-de-texto" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio resuelto de redirección de la salida de un proceso a un fichero de texto
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicio resuelto de redirección de la salida de un proceso a un fichero de texto">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiprocessappjava" class="md-nav__link">
    <span class="md-ellipsis">
      MultiProcessApp.java
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="unidad-1-programacion-multiproceso">Unidad 1 - Programación multiproceso</h1>
<h2 id="ide">IDE</h2>
<p>En el módulo de Programación de servicios y procesos usaremos como entorno de desarrollo <strong>IntelliJ IDEA</strong>. Es un IDE desarrollado por JetBrains, diseñado principalmente para el desarrollo en Java. Es conocido por sus potentes herramientas de asistencia al desarrollador, incluyendo análisis de código, refactorización inteligente, autocompletado de código y navegación avanzada.</p>
<p>Podemos <a href="https://www.jetbrains.com/idea/">descargarlo en su página web</a>, y gracias a la cuenta corporativa de <em>@g.educaand.es</em> tenemos licencia educativa por un año renovable.</p>
<h2 id="ejercicios-de-repaso-de-programacion-en-java">Ejercicios de repaso de programación en Java</h2>
<h4 id="calculadora-basica">Calculadora básica</h4>
<p>Crea una aplicación de consola que actúe como una calculadora básica. El usuario puede seleccionar la operación a realizar (suma, resta, multiplicación y división) e ingresar dos números. El programa debe mostrar el resultado de la operación. Como complicación, la multiplicación y la división no pueden realizarse con su operador aritmético propio.</p>
<h4 id="gestion-de-estudiantes">Gestión de estudiantes</h4>
<p>Diseña una aplicación que permita gestionar una lista de estudiares. Cada estudiante tiene nombre, edad y calificaciones en varias asignaturas. El programa debe permitir agregar, eliminar y listar estudiantes, así como calcular el promedio de calificaciones. De cada asignatura guardamos su nombre y calificación. Utiliza clases y colecciones para resolver este ejercicio.</p>
<h4 id="juego-del-ahorcado">Juego del ahorcado</h4>
<p>Implementa el clásico juego del ahorcado. El programa selecciona una palabra al azar de una lista predefinida y el usuario intenta adivinarla letra por letra.</p>
<h4 id="verificador-de-palindromos">Verificador de palíndromos</h4>
<p>Desarrolla una aplicación de consola que permita al usuario ingresar una palabra o frase y determine si es un palíndromo. Un palíndromo es una palabra o frase que se lee igual de izquierda a derecha que de derecha a izquierda, ignorando espacios, signos de puntuación y diferencias entre mayúsculas y minúsculas.</p>
<h2 id="programas-procesos-y-servicios">Programas, procesos y servicios</h2>
<h3 id="programa">Programa</h3>
<p>Un programa contiene un conjunto de instrucciones que se pueden ejecutar directamente en una máquina. Se trata de un objeto estático, normalmente almacenado en un fichero binario en un medio de almacenamiento secundario.</p>
<h3 id="proceso">Proceso</h3>
<p>Por su parte, un proceso corresponde a una instancia de un programa en ejecución. Se trata de una entidad dinámica. La ejecución de un programa comienza con la creación y ejecución de un proceso y utiliza los siguientes recursos del sistema:</p>
<ul>
<li>Memoria.</li>
<li>Procesador o CPU.</li>
<li>Dispositivos de E/S.</li>
</ul>
<p>Igualmente, cada proceso lleva asociado:</p>
<ul>
<li>Registros.</li>
<li>Contador de programa.</li>
<li>
<p>Bloque de control de proceso.</p>
</li>
<li>
<p>En Linux podemos usar el comando <strong>ps</strong> para obtener información sobre los procesos.</p>
<ul>
<li>Para mostrar más información podemos usar <strong>ps -f</strong> o <strong>ps -Af</strong>.</li>
</ul>
</li>
</ul>
<p><center><img alt="Comando ps en macOS" src="../assets/images/ud1/img01.png" /></center></p>
<ul>
<li>En Windows podemos usar el comando <strong>tasklist</strong> o el <strong>administrador de tareas</strong>.</li>
</ul>
<p><center><img alt="Administrador de tareas de Windows" src="../assets/images/ud1/img02.png" width="500" /></center></p>
<p>El número de procesos que pueden convivir simultáneamente en un sistema es alto, por lo que supera ampliamente el número de núcleos de la CPU. El sistema operativo es el encargado de gestionar que los recursos a los que acceden cada procesos se repartan de forma ordenada, justa y eficiente.</p>
<h3 id="servicio">Servicio</h3>
<p>Los servicios son un tipo particular de procesos que proporcionan determinados servicios (de ahí su nombre) a otros procesos. Se ejecutan en segundo plano (en <em>background</em>) y no son directamente usados por los usuarios. Además se ejecutan continuamente y normalmente son iniciados por el propio sistema operativo en el arranque de este. Los servicios pueden proporcionar servicios a otros procesos en el mismo ordenador y también a otros procesos en otros ordenadores.</p>
<p>Todos los sistemas operativos modernos diferencian claramente entre procesos y servicios. En la presente unidad trataremos los primeros. Igualmente, cada sistema operativo tiene su propia aplicación de gestión de procesos.</p>
<h2 id="planificacion-de-procesos">Planificación de procesos</h2>
<p>Todos los sistemas actuales, salvo aquellos más sencillos (como algunos microcontroladores), son capaces de realizar multitarea o multiproceso.</p>
<p>El planificador de procesos es el elemento del sistema operativo que se encarga de repartir los recursos del sistema entre los procesos que lo demandan. Los objetivos del planificador son los siguientes:</p>
<ul>
<li>Maximizar el rendimiento del sistema.</li>
<li>Maximizar la equidad en el reparto de los recursos.</li>
<li>Minimizar los tiempos de espera.</li>
<li>Minimizar los tiempos de respuesta.</li>
</ul>
<p>Existen varios niveles de planificación:</p>
<ul>
<li>Planificador a largo plazo o de trabajos: decide qué procesos son admitidos para su ejecución.</li>
<li>Planificador a corto plazo o de procesador: reparte el tiempo de procesador entre todos los procesos.</li>
<li>Planificador a medio plazo: gestiona el paso de procesos de la memoria principal a la secundaria (suspensión) y viceversa (reanudación).</li>
</ul>
<p>Según el número de procesadores de un sistema podemos clasificarlos como:</p>
<ul>
<li>Sistemas monoprocesadores: la ejecución concurrente de varios procesos en un sistema monoprocesador se conoce con el nombre de multiprogramación.</li>
<li>Sistemas multiprocesadores: disponen de más de un procesador. A su vez, pueden ser de dos tipos:<ul>
<li>Sistema fuertemente acoplado: la memoria y los dispositivos de entrada/salida son compartidos entre todos los procesadores.</li>
<li>Sistema débilmente acoplado: cada procesador posee su propia memoria y dispositivos de entrada/salida.</li>
</ul>
</li>
</ul>
<h2 id="multitarea">Multitarea</h2>
<p>La multitarea (o <em>multitasking</em>) consiste en la ejecución simultánea de más de un proceso en un procesador a lo largo del tiempo. Para que los procesos no tengan que esperar a que finalicen todos los demás, los sistemas aprovechan los recursos al máximo para crear la ilusión de que varios procesos se ejecutan de forma simultánea.</p>
<p><center><img alt="Uso de recursos CPU" src="../assets/images/ud1/img03.png" width="500" /></center></p>
<h3 id="ejecucion-de-procesos-en-un-sistema-multiprocesador">Ejecución de procesos en un sistema multiprocesador</h3>
<p><center><img alt="Procesos en un sistema multiprocesador" src="../assets/images/ud1/img04.png" width="300" /></center></p>
<h3 id="ejecucion-de-procesos-con-multitarea-con-operaciones-de-es">Ejecución de procesos con multitarea, con operaciones de E/S</h3>
<p><center><img alt="Ejecución de profesos con multitarea, con operaciones de E/S" src="../assets/images/ud1/img05.png" width="600" /></center></p>
<h2 id="hilos-y-procesos">Hilos y procesos</h2>
<p>Los hilos o hebras (<em>threads</em> en inglés) son las unidades más pequeñas de procesamiento que pueden ejecutar tareas de manera concurrente dentro de un proceso. Un proceso en ejecución tiene inicialmente un hilo, pero se pueden crear más de manera sencilla y rápida. La ejecución de un proceso finaliza cuando termina la ejecución de todos sus hilos.</p>
<table>
<thead>
<tr>
<th>Procesos</th>
<th>Hilos</th>
</tr>
</thead>
<tbody>
<tr>
<td>Constan de uno o más hilos</td>
<td>Un hilo siempre existe dentro de un proceso</td>
</tr>
<tr>
<td>Son independientes unos de otros</td>
<td>Comparten los recursos del proceso de forma directa</td>
</tr>
<tr>
<td>Son gestionados por el SO</td>
<td>Son gestionados por el proceso</td>
</tr>
<tr>
<td>Se comunican a través del SO</td>
<td>La comunicación controla el proceso</td>
</tr>
</tbody>
</table>
<h2 id="programacion-concurrente">Programación concurrente</h2>
<p>Se denominan <strong>procesos concurrentes</strong> a los que se ejecutan simultáneamente durante un intervalo de tiempo, ya sea de forma real (en sistemas multiprocesadores) o simulada (en sistemas monoprocesadores o en un mismo procesador de un sistema multiprocesador).</p>
<p>Por su parte, hablamos de <strong>programación concurrente</strong> cuando se ejecutan varios procesos concurrentes en un sistema, y también para hacer referencia a las técnicas que permiten desarrollar programas que utilizan varios procesos concurrentes que funcionan de forma conjunta y coordinada, para realizar una tarea.</p>
<h3 id="ventajas">Ventajas</h3>
<ul>
<li>Permite incrementar el rendimiento del sistema, porque los procesadores pasan a ejecutar otros procesos cuando el proceso que ejecutan está desocupado o a la espera de que termine una operación de E/S.</li>
<li>Hace posible un menor tiempo de respuesta, ya que el tiempo de procesador se distribuye entre todos los procesos en ejecución.</li>
</ul>
<h3 id="inconvenientes">Inconvenientes</h3>
<ul>
<li>Dificulta la implementación de mecanismos adecuados de sincronización y comunicación entre procesos.</li>
<li>Es posible que la sobrecarga que suponen anule la mejora en el rendimiento que proporciona la concurrencia.</li>
<li>En sistemas distribuidos, la red podría convertirse en un cuello de botella si no tiene la suficiente capacidad para el tráfico que genera el intercambio de mensajes entre procesos.</li>
</ul>
<h2 id="programacion-paralela-y-distribuida">Programación paralela y distribuida</h2>
<p>La <strong>programación paralela</strong> consiste en la ejecución de varios procesos concurrentes en un sistema multiprocesador. Estos procesos se pueden ejecutar con paralelismo real.</p>
<p>La <strong>programación distribuida</strong> consiste en la ejecución de varios procesos concurrentes en un sistema distribuido. Se usa también este término para hacer referencia al desarrollo de programas que utilizan varios procesos concurrentes que pueden ejecutarse en distintos procesadores de un sistema distribuido, y a las técnicas que lo hacen posible.</p>
<p>En un <strong>sistema distribuido</strong> no hay memoria compartida ni red de conexión específica entre los distintos ordenadores. La comunicación entre procesos se realiza mediante mensajes a través de la red de comunicaciones que conecta los distintos ordenadores, para lo que se suele utilizar los protocolos de red UDP o TCP.</p>
<h2 id="estados-de-un-proceso">Estados de un proceso</h2>
<p>Como hemos comentado al principio, los procesos son programas en ejecución, que requieren recursos como el tiempo de la CPU, memoria y acceso a dispositivos de entrada/salida. </p>
<p>Cada proceso puede estar en uno o varios <strong>estados</strong> durante su ciclo de vida. Estos estados definen qué está haciendo el proceso en un momento dado y permiten al sistema operativo gestionar múltiples procesos de manera eficiente.</p>
<p>Los estados básicos en los que puede estar un proceso son los siguientes:</p>
<ul>
<li><strong>Nuevo</strong> (<em>new</em>): Un proceso recién creado se encuentra en este estado. Se han asignado los recursos iniciales, pero aún no ha comenzado a ejecutarse. El proceso está esperando ser admitido en la cola de procesos listos.</li>
<li><strong>Listo</strong> (<em>ready</em>): El proceso ha sido cargado en la memoria principal y está preparado para ser ejecutado. Se en cuentra en una cola de procesos listos a la espera de que el planificador del sistema operativo (<strong>scheduler</strong>) le asigne tiempo de CPU. En este estado, el proceso no está ejecutándose, pero podría hacerlo tan pronto como el sistema operativo se lo permita.</li>
<li><strong>En ejecución</strong> (<em>running</em>): En este estado, el proceso está siendo ejecutado en la CPU. Solo un proceso puede estar en este estado por núcleo de CPU por unidad de tiempo, aunque en sistemas con múltiples núcleos es posible que varios procesos estén en ejecución simultáneamente en diferentes núcleos.</li>
<li><strong>Bloqueado</strong> (<em>blocked</em>) o <strong>Espera</strong> (<em>waiting</em>): El proceso se encuentra en este estado cuando está esperando que ocurra un evento específico, como la finalización de una operación de entrada/salida o la disponibilidad de un recurso. Mientras el proceso está bloqueado, no puede continuar con su ejecución y debe esperar a que el evento suceda. Una vez que se cumple la condición de espera, el proceso pasa al estado de <strong>Listo</strong>.</li>
<li><strong>Terminado</strong> (<em>terminated</em>) o <strong>Finalizado</strong> (<em>exit</em>): Cuando un proceso ha completado su ejecución o ha sido terminado por el sistema (ya sea de forma normal o por algún error), entra en este estado. Todos los recursos asociados con el proceso son liberados por el sistema operativo, y su estado final queda registrado para propósitos de control y depuración.</li>
</ul>
<p><center><img alt="Estados de un proceso" src="../assets/images/ud1/img06.png" width="600" /></center></p>
<h2 id="comunicacion-entre-procesos">Comunicación entre procesos</h2>
<p>Los procesos poseen dos maneras de comunicarse con otros procesos:</p>
<ul>
<li><strong>Intercambio de mensajes</strong>: Es la forma habitual cuando los procesos se encuentran en máquinas distintas. El intercambio de información se realiza a través de un protocolo establecido previamente.</li>
<li><strong>Recursos (memoria) compartidos</strong>: Solo se puede usar cuando los dos procesos se encuentran en la misma máquina y permite la sincronización de los procesos en función del valor o estado de un recurso compartido.</li>
</ul>
<p>La comunicación entre procesos se denomina <strong>IPC</strong> (<em>Inter-Process Communication</em>) y existen diversas alternativas para llevarla a cabo:</p>
<ul>
<li>Utilización de sockets.</li>
<li>Utilización de flujos de entrada y salida.</li>
<li>RPC (<em>Remote Process Call</em>). Llamada a procedimiento remoto.</li>
<li>Mediante el uso de sistemas de persistencia.</li>
<li>Mediante el uso de servicios proporcionados a través de Internet.</li>
</ul>
<h2 id="sincronizacion-entre-procesos">Sincronización entre procesos</h2>
<p>El planificador del sistema operativo es el encargado de decidir en qué momento tiene acceso a los recursos un proceso, pero a nivel general, la decisión de crear y lanzar un proceso es humana, y es expresada a través de un algoritmo.</p>
<p>Para gestionar el flujo de trabajo entre procesos se necesita disponer de los siguientes mecanismos:</p>
<ul>
<li><strong>Ejecución</strong>: Un mecanismo para ejecutar procesos desde un proceso.</li>
<li><strong>Espera</strong>: Un mecanismo para bloquear la ejecución de un proceso a la espera de que otro proceso termine.</li>
<li><strong>Generación de código de terminación</strong>: Un mecanismo de comunicación que permita indicar a un proceso cómo ha terminado la ejecución mediante un código.</li>
<li><strong>Obtención de código de terminación</strong>: Un mecanismo que permita a un proceso obtener el código de terminación de otro proceso.</li>
</ul>
<h2 id="programacion-de-aplicaciones-multiproceso-en-java">Programación de aplicaciones multiproceso en Java</h2>
<p>En Java, la creación de un proceso puede realizarse de dos maneras diferentes:</p>
<ul>
<li>Utilizando la clase <strong>java.lang.Runtime</strong>.</li>
<li>Utilizando la clase <strong>java.lang.ProcessBuilder</strong>.</li>
</ul>
<p>La clase <strong>java.lang.Runtime</strong> se usa principalmente para interactuar con el JRE de Java. Esta clase proporciona métodos para lanzar procesos, llamar al recolector de basura, saber la cantidad de memoria disponible y libre, etc.</p>
<p>Toda aplicación Java tiene una única instancia de la clase Runtime, que permite que la propia aplicación interactúe con su entorno de ejecución a través del método estático <strong>getRuntime()</strong>.</p>
<p>Este método proporciona un canal de comunicación entre la aplicación y su entorno, posibilidanto la interacción del sistema operativo a través del método <strong>exec</strong>.</p>
<p><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runtime.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runtime.html</a></p>
<p>En el paquete <strong>java.lang</strong> tenemos dos clases para la gestión de procesos:</p>
<ul>
<li><strong>java.lang.ProcessBuilder</strong>:<ul>
<li><a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F21%2Fdocs%2Fapi%2F%2F/java.base/java/lang/ProcessBuilder.html">https://docs.oracle.com/en%2Fjava%2Fjavase%2F21%2Fdocs%2Fapi%2F%2F/java.base/java/lang/ProcessBuilder.html</a></li>
</ul>
</li>
<li><strong>java.lang.Process</strong><ul>
<li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Process.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Process.html</a></li>
</ul>
</li>
</ul>
<p>Las instancias de <strong>ProcessBuilder</strong> gestionan los atributos de los procesos, mientras que las instancias de <strong>Process</strong> controla la ejecución de esos mismos procesos cuando se ejecutan.</p>
<p>La clase <strong>Process</strong> es <strong>abstracta</strong> y, por lo tanto, no se pueden crear objetos de ella, sino de subclases suyas, que. de hecho, implementan procesos nativos, es decir, procesos de plataformas específicas que se ejecutan en un sistema operativo particular para un tipo de procesador particular.</p>
<p>La clase <strong>Process</strong> tiene métodos para lanzar un proceso, obtener información acerca de su estado y controlar su ejecución.</p>
<h3 id="metodos-de-la-clase-javalangprocess">Métodos de la clase <strong>java.lang.Process</strong></h3>
<table>
<thead>
<tr>
<th>Métodos</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>destroy()</strong></td>
<td>Destruye el proceso sobre el que se ejecuta</td>
</tr>
<tr>
<td><strong>exitValue()</strong></td>
<td>Devuelve el valor de retorno del proceso cuando este finaliza. Sirve para controlar el estado de la ejecución</td>
</tr>
<tr>
<td><strong>getErrorStream()</strong></td>
<td>Proporciona un InputStream conectado a la salida de error del proceso.</td>
</tr>
<tr>
<td><strong>getInputStream()</strong></td>
<td>Proporciona un InputStream conectado a la salida normal del proceso.</td>
</tr>
<tr>
<td><strong>getOutputStream()</strong></td>
<td>Proporciona un OutputStream conectado a la entrada normal del proceso.</td>
</tr>
<tr>
<td><strong>isAlive()</strong></td>
<td>Determina si el proceso está o no en ejecución.</td>
</tr>
<tr>
<td><strong>waitFor()</strong></td>
<td>Detiene la ejecución del programa que lanza el proceso a la espera de que este último termine.</td>
</tr>
</tbody>
</table>
<p>Con <strong>ProcessBuilder</strong> se puede configurar previamente el entorno de ejecución de los procesos que crea y, en particular, redirigir su entrada y salida.</p>
<p>El constructor de <strong>ProcessBuilder</strong> admite parámetros que serán entregados al proceso que se crea:</p>
<div class="language-text highlight"><pre><span></span><code>ProcessBuilder(List&lt;String&gt;command)
ProcessBuilder(String... command)
</code></pre></div>
<p>La ejecución del proceso se realiza a partir de la invocación al método <em>start()</em>:</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">// Ejemplo en Windows</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">ProcessBuilder</span><span class="w"> </span><span class="n">pb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessBuilder</span><span class="p">(</span><span class="s">&quot;cmd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/C&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;dir&quot;</span><span class="p">);</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1">// Ejemplo en Linux</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">ProcessBuilder</span><span class="w"> </span><span class="n">pb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessBuilder</span><span class="p">(</span><span class="s">&quot;/bin/bash&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-c&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ls&quot;</span><span class="p">);</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c1">// Ejemplo en MacOS</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">ProcessBuilder</span><span class="w"> </span><span class="n">pb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessBuilder</span><span class="p">(</span><span class="s">&quot;sh&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-c&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ls&quot;</span><span class="p">);</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">Process</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pb</span><span class="p">.</span><span class="na">start</span><span class="p">();</span>
</span></code></pre></div>
<h3 id="metodos-de-la-clase-javalangprocessbuilder">Métodos de la clase <strong>java.lang.ProcessBuilder</strong></h3>
<table>
<thead>
<tr>
<th>Métodos</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>start()</strong></td>
<td>Inicia un nuevo proceso usando los atributos especificados.</td>
</tr>
<tr>
<td><strong>command()</strong></td>
<td>Permite obtener o asignar el programa y los argumentos de la instancia de ProcessBuilder.</td>
</tr>
<tr>
<td><strong>directory()</strong></td>
<td>Permite obtener o asignar el directorio de trabajo del proceso.</td>
</tr>
<tr>
<td><strong>environment()</strong></td>
<td>Proporciona información sobre el entorno de ejecución del proceso.</td>
</tr>
<tr>
<td><strong>redirectError()</strong></td>
<td>Permite determinar el destino de la salida de errores.</td>
</tr>
<tr>
<td><strong>redirectInput()</strong></td>
<td>Permite determinar el origen de la entrada estándar.</td>
</tr>
<tr>
<td><strong>redirectOutput()</strong></td>
<td>Permite determinar el destino de la salida estándar.</td>
</tr>
</tbody>
</table>
<h2 id="gestion-de-la-es-de-un-proceso">Gestión de la E/S de un proceso</h2>
<p>Un subproceso no tiene terminal o consola en el que poder mostrar su información. Los procesos lanzados con el método <em>start()</em> redireccionan los streams de E/S estándar (stdin, stdout, stderr) al proceso padre. Si se necesita se puede acceder a ellos a través de los streams obtenidos con los métodos definidos en la clase Process como <em>getInputStream()</em>, <em>getOutputStream()</em> y <em>getErrorStream()</em>. Esta es la forma de enviar y recibir información desde los subprocesos.</p>
<p><center><img alt="E/S proceso" src="../assets/images/ud1/img07.png" width="500" /></center></p>
<h3 id="getinputstream">getInputStream()</h3>
<p>Este método se utiliza para leer el stream de salida del proceso, es decir, para leer lo que el comando ejecutado (proceso hijo) ha enviado a la consola.</p>
<p><div class="language-java highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">Process</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pbuilder</span><span class="p">.</span><span class="na">start</span><span class="p">();</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">BufferedReader</span><span class="w"> </span><span class="n">processOutput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedReader</span><span class="p">(</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">InputStreamReader</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">getInputStream</span><span class="p">()));</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">String</span><span class="w"> </span><span class="n">linea</span><span class="p">;</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="k">while</span><span class="p">((</span><span class="n">linea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">processOutput</span><span class="p">.</span><span class="na">readLine</span><span class="p">())</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="p">{</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;&gt; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">linea</span><span class="p">);</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="p">}</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="n">processOutput</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</span></code></pre></div>
Este código ejecuta un proceso externo y lee su salida estándar línea a línea, mostrándola en la termina.</p>
<p>Primero iniciamos un nuevo proceso usando <em>pbuilder.start()</em>. El médoto <em>start()</em> ejecuta el proceso configurado en <em>pbuilder</em> y devuelve un objeto <em>Process</em> que representa el proceso en ejecución.</p>
<p>A continuación creamos un <em>InputStreamReader</em> que toma el flujo de entrada del proceso <em>(p.getInputStream())</em>, que en realidad corresponde a la <strong>salida estándar (stdout)</strong> del proceso. Este <em>InputStreamReader</em> se envuelve de un <em>BufferedReader</em> para facilitar la lectura eficiente de texto, especialmente línea a línea.</p>
<p>Finalmente, el bucle while utiliza <em>processOutput.readLine()</em> para leer cada línea de la salida del proceso. Este método devuelve <em>null</em> cuando no hay más líneas por leer. Dentro del bucle cada línea leída se imprime en consola, precedida por "&gt; ". Por último, después de leer todas las líneas se cierra el <em>BufferedReader</em> para liberar los recursos asociados.</p>
<h3 id="geterrorstream">getErrorStream()</h3>
<p>Podemos obtener la salida de error (stderr) que genera el proceso hijo para procesarla desde el padre.</p>
<ul>
<li>Si la salida de error ha sido previamente redirigida usando el método <em>ProcessBuilder.redirectErrorStream(true)</em> la salida de error y la salida estándar llegarán juntas con <em>getInputStream()</em> y no es necesario hacer un tratamiento adicional.</li>
<li>Si por el contrario queremos hacer un tratamiento diferenciado de los dos tipos de salida, podemos usar un esquema similar al usado anteriormente, con la salvedad de que ahora en lugar de llamar a <em>getInputStream()</em> lo hacemos con <em>getErrorStream()</em>.</li>
</ul>
<h3 id="getoutputstream">getOutputStream()</h3>
<p>Este método se usa para enviar información desde el proceso padre al proceso hijo. De la misma forma que con las entradas que llegan desde el proceso hijo, podemos enviar la información usando directamente el <em>OutputStream</em> del proceso, pero lo haremos con un Decorator.</p>
<p>En este caso, el <em>wrapper</em> de mayor nivel para usar un <em>OutputStream</em> es la clase <em>PrintWriter</em> que nos ofrece métodos similares a los de <em>System.out.printxxxxx</em> para gestionar el flujo de comunicación con el proceso hijo.</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">PrintWriter</span><span class="w"> </span><span class="n">toProcess</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PrintWriter</span><span class="p">(</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedWriter</span><span class="p">(</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">OutputStreamWriter</span><span class="p">(</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">            </span><span class="n">p</span><span class="p">.</span><span class="na">getOutputStream</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;UTF-8&quot;</span><span class="p">)),</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="n">toProcess</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Enviar al hijo&quot;</span><span class="p">);</span>
</span></code></pre></div>
<h3 id="ejercicio-resuelto-de-comunicacion-entre-procesos">Ejercicio resuelto de comunicación entre procesos</h3>
<p>Implementa una aplicación, llamada <strong>Frecuencia</strong>, que dado un texto recibido a través de su entrada estándar obtenga la frecuencia absoluta de cada una de las vocales, es decir, la cantidad de veces que aparece cada vocal. En el caso de que una de las vocales no aparezca la frecuencia será 0. Por ejemplo: para la palabra “estupendo” el resultado debe ser 0 2 0 1 1.</p>
<p>Implementa una aplicación que introduzca por teclado una cadena y ejecute el programa anterior para visualizar la salida del número de vocales de dicha cadena. La aplicación se llamará <strong>Lanzador</strong>.</p>
<h4 id="frecuenciajava">Frecuencia.java</h4>
<div class="language-java highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Scanner</span><span class="p">;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Frecuencia</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">        </span><span class="n">Scanner</span><span class="w"> </span><span class="n">scanner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">in</span><span class="p">);</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scanner</span><span class="p">.</span><span class="na">nextLine</span><span class="p">();</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">        </span><span class="n">scanner</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">countA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">countE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">countI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">countO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">countU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">        </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="na">toLowerCase</span><span class="p">();</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="na">toCharArray</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="p">:</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">                    </span><span class="n">countA</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="w">                    </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;e&#39;</span><span class="p">:</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="w">                    </span><span class="n">countE</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">                    </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;i&#39;</span><span class="p">:</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="w">                    </span><span class="n">countI</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w">                    </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;o&#39;</span><span class="p">:</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="w">                    </span><span class="n">countO</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a><span class="w">                    </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;u&#39;</span><span class="p">:</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="w">                    </span><span class="n">countU</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a><span class="w">                    </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="w">                </span><span class="k">default</span><span class="p">:</span>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="w">                    </span><span class="c1">// No es una vocal</span>
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a>
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">countA</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">countE</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">countI</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">countO</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">countU</span><span class="p">);</span>
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-41"><a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="lanzadorjava">Lanzador.java</h4>
<div class="language-java highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.*</span><span class="p">;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Lanzador</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">            </span><span class="c1">// Leer cadena desde el teclado</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">            </span><span class="n">BufferedReader</span><span class="w"> </span><span class="n">reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedReader</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">InputStreamReader</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">in</span><span class="p">));</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot;Introduce una cadena: &quot;</span><span class="p">);</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">inputString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reader</span><span class="p">.</span><span class="na">readLine</span><span class="p">();</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">            </span><span class="c1">// Obtener el classpath actual</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">classpath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">&quot;java.class.path&quot;</span><span class="p">);</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">            </span><span class="c1">// Crear el proceso para ejecutar Frecuencia</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">            </span><span class="n">ProcessBuilder</span><span class="w"> </span><span class="n">pb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessBuilder</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;java&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-cp&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">classpath</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Frecuencia&quot;</span><span class="p">);</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">            </span><span class="n">Process</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pb</span><span class="p">.</span><span class="na">start</span><span class="p">();</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">            </span><span class="c1">// Enviar la cadena al proceso Frecuencia</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">            </span><span class="n">BufferedWriter</span><span class="w"> </span><span class="n">writer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedWriter</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">OutputStreamWriter</span><span class="p">(</span><span class="n">process</span><span class="p">.</span><span class="na">getOutputStream</span><span class="p">()));</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">            </span><span class="n">writer</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">inputString</span><span class="p">);</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="w">            </span><span class="n">writer</span><span class="p">.</span><span class="na">newLine</span><span class="p">();</span><span class="w"> </span><span class="c1">// Importante para indicar el fin de la entrada</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="w">            </span><span class="n">writer</span><span class="p">.</span><span class="na">flush</span><span class="p">();</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="w">            </span><span class="n">writer</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="w">            </span><span class="c1">// Leer la salida del proceso Frecuencia</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="w">            </span><span class="n">BufferedReader</span><span class="w"> </span><span class="n">processOutputReader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedReader</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">InputStreamReader</span><span class="p">(</span><span class="n">process</span><span class="p">.</span><span class="na">getInputStream</span><span class="p">()));</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">processOutputReader</span><span class="p">.</span><span class="na">readLine</span><span class="p">();</span>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Frecuencia de vocales: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">line</span><span class="p">);</span>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a>
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a><span class="w">            </span><span class="n">process</span><span class="p">.</span><span class="na">waitFor</span><span class="p">();</span><span class="w"> </span><span class="c1">// Esperar a que el proceso termine</span>
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a><span class="w">            </span><span class="n">processOutputReader</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>
</span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-4-38"><a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="redireccion-de-la-es">Redirección de la E/S</h2>
<p>En un sistema real probablemente necesitemos guardar los resultados de un proceso en un archivo de log o de errores para su posterior análisis.</p>
<p>Para redigirir la E/S lo haremos mientras preparamos el proceso para ser ejecutado, de forma que cuando se lancen sus stream de E/S salida se modifiquen. Por eso, en esta ocasión, los métodos que nos permiten redireccionar la E/S de los procesos son métodos de la clase <strong>ProcessBuilder</strong>.</p>
<p>Los métodos a utilizar serían <em>redirectOutput(File)</em>, <em>redirectInput(File)</em> y <em>redirectError(File)</em>. Para hacer las redirecciones también podemos utilizar la clase <em>ProcessBuilder.Redirect</em> como parámetro para los métodos anteriores, utilizando uno de los siguientes valores.</p>
<table>
<thead>
<tr>
<th>Valor</th>
<th>Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Redirect.DISCARD</strong></td>
<td>La información se descarta.</td>
</tr>
<tr>
<td><strong>Redirect.to(File)</strong></td>
<td>La información se guardará en el fichero indicado. Si existe, se vacía.</td>
</tr>
<tr>
<td><strong>Redirect.from(File)</strong></td>
<td>La información se leerá del fichero indicado.</td>
</tr>
<tr>
<td><strong>Redirect.appendTo(File)</strong></td>
<td>La información se añadirá en el fichero indicado. Si existe, no se vacía.</td>
</tr>
</tbody>
</table>
<h3 id="ejercicio-resuelto-de-redireccion-de-la-salida-de-un-proceso-a-un-fichero-de-texto">Ejercicio resuelto de redirección de la salida de un proceso a un fichero de texto</h3>
<p>Crea una aplicación Java que cree dos procesos. El primero de ellos deberá listar el contenido del directorio en el que se encuentra, mientras que el segundo deberá mostrar la información del sistema. Almacena en dos ficheros distintos la salida de cada uno de los procesos. Finalmente sincronizarlos.</p>
<h4 id="multiprocessappjava">MultiProcessApp.java</h4>
<div class="language-java highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.*</span><span class="p">;</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MultiProcessApp</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">            </span><span class="c1">// Crear el primer proceso que lista el contenido del directorio actual (equivalente a &#39;dir&#39; en Windows)</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">            </span><span class="n">ProcessBuilder</span><span class="w"> </span><span class="n">processBuilder1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessBuilder</span><span class="p">(</span><span class="s">&quot;sh&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-c&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ls&quot;</span><span class="p">);</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">            </span><span class="n">processBuilder1</span><span class="p">.</span><span class="na">redirectOutput</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">File</span><span class="p">(</span><span class="s">&quot;output_ls.txt&quot;</span><span class="p">));</span><span class="w">  </span><span class="c1">// Redirigir la salida a un archivo</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">            </span><span class="n">Process</span><span class="w"> </span><span class="n">process1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">processBuilder1</span><span class="p">.</span><span class="na">start</span><span class="p">();</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">            </span><span class="c1">// Crear el segundo proceso que muestra la información del sistema (equivalente a &#39;systeminfo&#39; en Windows)</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">            </span><span class="n">ProcessBuilder</span><span class="w"> </span><span class="n">processBuilder2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessBuilder</span><span class="p">(</span><span class="s">&quot;sh&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-c&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;uname -a&quot;</span><span class="p">);</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">            </span><span class="n">processBuilder2</span><span class="p">.</span><span class="na">redirectOutput</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">File</span><span class="p">(</span><span class="s">&quot;output_uname.txt&quot;</span><span class="p">));</span><span class="w">  </span><span class="c1">// Redirigir la salida a un archivo</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">            </span><span class="n">Process</span><span class="w"> </span><span class="n">process2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">processBuilder2</span><span class="p">.</span><span class="na">start</span><span class="p">();</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="w">            </span><span class="c1">// Sincronizar ambos procesos</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">exitCode1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">process1</span><span class="p">.</span><span class="na">waitFor</span><span class="p">();</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">exitCode2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">process2</span><span class="p">.</span><span class="na">waitFor</span><span class="p">();</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Proceso 1 terminado con código: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">exitCode1</span><span class="p">);</span>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Proceso 2 terminado con código: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">exitCode2</span><span class="p">);</span>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a><span class="p">}</span>
</span></code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2025 José María Pérez Puentes - Licencia CC BY-NC-SA 4.0
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>